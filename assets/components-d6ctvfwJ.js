import{r as x,L as it,B as Ne,C as rt,U as ue,M as nt,a as ot,b as ct,c as xe,S as ve,d as ge,e as dt,f as xt,g as $e,j as e,H as be,X as W,h as mt,i as ut,k as pt,l as Ge,m as we,n as he,o as oe,p as _e,q as me,s as ht,t as ae,G as Be,u as gt,v as Ce,R as ee,A as Ue,w as ie,x as re,Y as ne,T as te,y as Ie,z as Ae,D as fe,E as de,F as Ke,P as Q,I as J,J as bt,K as ze,N as De,O as ft,Q as Y,V as Z,W as Oe,Z as jt,_ as Nt,$ as vt,a0 as Ee,a1 as wt,a2 as yt,a3 as qe,a4 as kt,a5 as He,a6 as Me,a7 as We,a8 as St,a9 as Ve,aa as Te,ab as Ct,ac as je,ad as It,ae as Qe,af as Ye,ag as At,ah as ye,ai as se,aj as Je,ak as Xe,al as zt,am as Dt,an as Ot,ao as Et,ap as Mt,aq as Tt,ar as Rt,as as Lt,at as Pt,au as Ft,av as $t,aw as Gt,ax as _t,ay as Bt,az as Ut,aA as Ze,aB as Kt,aC as qt,aD as Ht,aE as et,aF as Wt,aG as Vt,aH as Qt,aI as Yt,aJ as Jt,aK as Re,aL as Xt,aM as Zt,aN as es,aO as tt,aP as ts,aQ as ss,aR as as,aS as Le,aT as ls,aU as Pe,aV as is,aW as rs,aX as ns,aY as os}from"./vendor-BadBNqqM.js";import{U as A,T as st,R as L,a as q,S as P,b as U,c as X,I as ke}from"./types-BEe6FBee.js";import{a as cs,g as ds,b as xs,t as ms,d as Se,c as us}from"./services-1P_J0fle.js";const Ts=({children:h,activeTab:w,setActiveTab:C,notificationCount:j=0,inAppNotifications:i=[],onMarkNotifRead:b=k=>{},staff:g=[],currentUser:f,onLogout:s,language:y,onLanguageChange:u})=>{const[k,r]=x.useState(!1),[N,t]=x.useState(!1),o=p=>st[y][p]||p,c=[{id:"dashboard",label:o("dashboard"),icon:it,roles:[A.ADMIN,A.MANAGEMENT,A.FRONT_DESK,A.HOUSEKEEPING,A.MAINTENANCE]},{id:"rooms",label:o("rooms"),icon:Ne,roles:[A.ADMIN,A.MANAGEMENT,A.FRONT_DESK,A.HOUSEKEEPING,A.MAINTENANCE]},{id:"bookings",label:o("bookings"),icon:rt,roles:[A.ADMIN,A.MANAGEMENT,A.FRONT_DESK]},{id:"guests",label:o("guests"),icon:ue,roles:[A.ADMIN,A.MANAGEMENT,A.FRONT_DESK]},{id:"messages",label:o("messages"),icon:nt,roles:[A.ADMIN,A.MANAGEMENT,A.FRONT_DESK]},{id:"staff",label:o("staff"),icon:ot,roles:[A.ADMIN,A.MANAGEMENT]},{id:"menu",label:"Menu Management",icon:ct,roles:[A.ADMIN,A.MANAGEMENT]},{id:"tasks",label:o("tasks"),icon:xe,roles:[A.ADMIN,A.MANAGEMENT,A.FRONT_DESK,A.HOUSEKEEPING,A.MAINTENANCE]},{id:"inbox",label:o("inbox"),icon:ve,badge:j,roles:[A.ADMIN,A.MANAGEMENT,A.FRONT_DESK,A.HOUSEKEEPING,A.MAINTENANCE]},{id:"feedback",label:o("feedback"),icon:ge,roles:[A.ADMIN,A.MANAGEMENT]},{id:"revenue",label:o("revenue"),icon:dt,roles:[A.ADMIN,A.MANAGEMENT]},{id:"analytics",label:o("analytics"),icon:xt,roles:[A.ADMIN,A.MANAGEMENT]},{id:"settings",label:o("settings"),icon:$e,roles:[A.ADMIN]}].filter(p=>p.roles.includes(f.permissionRole)),O=i.filter(p=>!p.read).length,n=p=>{C(p),t(!1)};return e.jsxs("div",{className:"flex h-screen bg-[#0f172a] overflow-hidden relative",children:[N&&e.jsx("div",{className:"fixed inset-0 bg-slate-950/60 backdrop-blur-sm z-40 lg:hidden",onClick:()=>t(!1)}),e.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-slate-900 text-white flex flex-col shrink-0 border-r border-white/5 transition-transform duration-300 transform
        lg:static lg:translate-x-0
        ${N?"translate-x-0":"-translate-x-full"}
      `,children:[e.jsxs("div",{className:"p-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-indigo-500 p-2 rounded-lg",children:e.jsx(be,{size:24,className:"text-white"})}),e.jsx("span",{className:"text-xl font-bold tracking-tight",children:"LuxeStay"})]}),e.jsx("button",{onClick:()=>t(!1),className:"lg:hidden p-2 text-slate-400 hover:text-white","aria-label":"Close menu",children:e.jsx(W,{size:20})})]}),e.jsx("nav",{className:"flex-1 px-4 py-4 space-y-1 overflow-y-auto custom-scrollbar",children:c.map(p=>{const I=p.icon,v=w===p.id;return e.jsxs("button",{onClick:()=>n(p.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all relative ${v?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/20":"text-slate-400 hover:text-white hover:bg-slate-800"}`,children:[e.jsx(I,{size:20}),e.jsx("span",{className:"font-medium text-left",children:p.label}),p.badge&&p.badge>0&&e.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 bg-rose-500 text-white text-[10px] font-black px-1.5 py-0.5 rounded-full ring-2 ring-slate-900",children:p.badge})]},p.id)})}),e.jsx("div",{className:"p-4 border-t border-slate-800",children:e.jsxs("button",{onClick:s,className:"flex items-center gap-3 px-4 py-3 text-slate-400 hover:text-rose-400 hover:bg-rose-500/5 rounded-xl transition-all w-full",children:[e.jsx(mt,{size:20}),e.jsx("span",{className:"font-medium",children:o("signOut")})]})})]}),e.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[e.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-4 sm:px-8 shrink-0 relative z-30",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>t(!0),className:"lg:hidden p-2 text-slate-500 hover:bg-slate-100 rounded-xl transition-colors","aria-label":"Open menu",children:e.jsx(ut,{size:24})}),e.jsx("h1",{className:"text-lg sm:text-xl font-semibold text-slate-800 capitalize truncate",children:w.replace("-"," ")})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-6",children:[e.jsxs("div",{className:"flex items-center bg-slate-100 p-1 rounded-xl",children:[e.jsx("button",{onClick:()=>u("en"),className:`px-2 sm:px-3 py-1 rounded-lg text-[10px] font-black tracking-widest transition-all ${y==="en"?"bg-white text-indigo-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:"EN"}),e.jsx("button",{onClick:()=>u("fr"),className:`px-2 sm:px-3 py-1 rounded-lg text-[10px] font-black tracking-widest transition-all ${y==="fr"?"bg-white text-indigo-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:"FR"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>r(!k),className:`p-2 rounded-xl transition-all relative ${k?"bg-slate-100 text-indigo-600":"text-slate-400 hover:bg-slate-50 hover:text-slate-600"}`,"aria-label":"Notifications",children:[e.jsx(pt,{size:22}),O>0&&e.jsx("span",{className:"absolute top-1.5 right-1.5 w-4 h-4 bg-rose-500 text-white text-[8px] font-black flex items-center justify-center rounded-full ring-2 ring-white",children:O})]}),k&&e.jsxs("div",{className:"absolute right-0 top-14 w-72 sm:w-80 bg-white rounded-2xl shadow-2xl border border-slate-200 z-[100] overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:[e.jsxs("div",{className:"p-4 border-b border-slate-100 bg-slate-50 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xs font-black text-slate-900 uppercase tracking-widest",children:"Recent Activity"}),e.jsxs("span",{className:"text-[10px] font-bold text-slate-400",children:[i.length," alerts"]})]}),e.jsx("div",{className:"max-h-[350px] overflow-y-auto",children:i.length>0?i.map(p=>{const I=g.find(v=>v.id===p.staffId);return e.jsxs("div",{onClick:()=>b(p.id),className:`p-4 border-b border-slate-50 flex items-start gap-3 hover:bg-slate-50 cursor-pointer transition-colors ${p.read?"":"bg-indigo-50/30"}`,children:[e.jsx("div",{className:`p-1.5 rounded-lg shrink-0 ${p.type==="task"?"bg-indigo-100 text-indigo-600":"bg-amber-100 text-amber-600"}`,children:p.type==="task"?e.jsx(xe,{size:16}):e.jsx(Ge,{size:16})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[e.jsx("h4",{className:"text-xs font-bold text-slate-800 truncate",children:p.title}),e.jsx("span",{className:"text-[9px] text-slate-400 font-medium shrink-0 ml-2",children:new Date(p.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("p",{className:"text-[11px] text-slate-500 line-clamp-2 mb-2",children:p.message}),I&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("img",{src:I.avatar,alt:`${I.name} avatar`,className:"w-4 h-4 rounded-full"}),e.jsxs("span",{className:"text-[9px] font-bold text-indigo-600",children:["Assignee: ",I.name]})]})]}),!p.read&&e.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full shrink-0 mt-1"})]},p.id)}):e.jsxs("div",{className:"p-10 text-center text-slate-300",children:[e.jsx(we,{size:32,className:"mx-auto mb-3 opacity-20"}),e.jsx("p",{className:"text-xs font-bold",children:"No activity logged"})]})})]})]}),e.jsxs("div",{className:"flex items-center gap-3 ml-2 sm:ml-0",children:[e.jsxs("div",{className:"text-right hidden sm:block",children:[e.jsx("p",{className:"text-sm font-semibold text-slate-900",children:f.name}),e.jsx("p",{className:"text-xs text-slate-500",children:f.role})]}),e.jsx("img",{src:f.avatar,alt:`${f.name} avatar`,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full border border-slate-200 object-cover"})]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-8 bg-[#0f172a]",children:e.jsx("div",{className:"max-w-[1600px] mx-auto h-full",children:h})})]})]})},Rs=({staffMembers:h,onLogin:w})=>{const[C,j]=x.useState(""),[i,b]=x.useState(""),[g,f]=x.useState(null),[s,y]=x.useState(!1),u=async k=>{k.preventDefault(),y(!0),f(null),await new Promise(N=>setTimeout(N,1200));const r=await cs.login(C,i,h);r.success&&r.user?w(r.user):(f(r.error||"Invalid email or password. Please try again."),y(!1))};return e.jsxs("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-indigo-500/10 blur-[120px] rounded-full"}),e.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-emerald-500/10 blur-[120px] rounded-full"}),e.jsxs("div",{className:"w-full max-w-md animate-in fade-in slide-in-from-bottom-8 duration-700",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center p-4 bg-indigo-600 rounded-2xl shadow-2xl shadow-indigo-500/20 mb-6",children:e.jsx(be,{size:32,className:"text-white"})}),e.jsx("h1",{className:"text-3xl font-black text-white tracking-tight mb-2",children:"LuxeStay HMS"}),e.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Internal Operations Management Portal"})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 p-8 rounded-[32px] shadow-2xl relative",children:[e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[g&&e.jsxs("div",{className:"p-4 bg-rose-500/10 border border-rose-500/20 rounded-2xl flex items-start gap-3 animate-in shake duration-300",children:[e.jsx(he,{className:"text-rose-500 shrink-0 mt-0.5",size:18}),e.jsx("p",{className:"text-xs font-bold text-rose-200 leading-relaxed",children:g})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Work Email"}),e.jsxs("div",{className:"relative group",children:[e.jsx(oe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-indigo-400 transition-colors",size:18}),e.jsx("input",{required:!0,type:"email",className:"w-full pl-12 pr-4 py-4 bg-white/10 border border-white/20 rounded-2xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 transition-all placeholder:text-slate-600 shadow-inner",placeholder:"name@luxestay.com",value:C,onChange:k=>j(k.target.value)})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Password"}),e.jsxs("div",{className:"relative group",children:[e.jsx(_e,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-indigo-400 transition-colors",size:18}),e.jsx("input",{required:!0,type:"password",className:"w-full pl-12 pr-4 py-4 bg-white/10 border border-white/20 rounded-2xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50 transition-all placeholder:text-slate-600 shadow-inner",placeholder:"••••••••",value:i,onChange:k=>b(k.target.value)})]})]}),e.jsx("button",{type:"submit",disabled:s,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 text-white rounded-2xl font-black text-sm flex items-center justify-center gap-3 shadow-xl shadow-indigo-600/20 transition-all active:scale-[0.98] group",children:s?e.jsx(me,{size:20,className:"animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(ht,{size:20,className:"group-hover:translate-x-1 transition-transform"}),"Sign In to Terminal"]})})]}),e.jsxs("div",{className:"mt-8 pt-8 border-t border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(ae,{size:14,className:"text-amber-500"}),e.jsx("p",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Demo Accounts (Password: SecurePass123!)"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[10px] font-bold text-slate-400",children:[e.jsxs("div",{className:"p-2 bg-white/5 rounded-lg border border-white/5",children:[e.jsx("p",{className:"text-white",children:"Admin"}),e.jsx("p",{className:"opacity-60",children:"manager@luxestay.com"})]}),e.jsxs("div",{className:"p-2 bg-white/5 rounded-lg border border-white/5",children:[e.jsx("p",{className:"text-white",children:"Housekeeper"}),e.jsx("p",{className:"opacity-60",children:"maria@luxestay.com"})]}),e.jsxs("div",{className:"p-2 bg-white/5 rounded-lg border border-white/5",children:[e.jsx("p",{className:"text-white",children:"Front Desk"}),e.jsx("p",{className:"opacity-60",children:"sarah@luxestay.com"})]}),e.jsxs("div",{className:"p-2 bg-white/5 rounded-lg border border-white/5",children:[e.jsx("p",{className:"text-white",children:"Maintenance"}),e.jsx("p",{className:"opacity-60",children:"dave@luxestay.com"})]})]})]})]}),e.jsx("p",{className:"text-center mt-8 text-slate-500 text-[10px] font-black uppercase tracking-[0.2em]",children:"Internal Access Only • LuxeStay Enterprise HMS v2.4"})]})]})},ps=({rooms:h,bookings:w,tasks:C=[],feedback:j=[],onPreviewWebsite:i,language:b})=>{const g=c=>st[b][c]||c,f=h.filter(c=>c.status===L.OCCUPIED).length,s=f/h.length*100,y=w.reduce((c,O)=>c+O.totalPrice,0),u=C.filter(c=>c.status!==q.COMPLETED).length,k=j.length>0?j.reduce((c,O)=>c+O.rating,0)/j.length:0,r=w.filter(c=>c.source==="Direct"),t=r.reduce((c,O)=>c+O.totalPrice,0)*.15,o=[{name:"Mon",revenue:4e3,occupancy:70},{name:"Tue",revenue:3e3,occupancy:65},{name:"Wed",revenue:5e3,occupancy:85},{name:"Thu",revenue:2780,occupancy:60},{name:"Fri",revenue:6890,occupancy:95},{name:"Sat",revenue:8390,occupancy:100},{name:"Sun",revenue:4490,occupancy:75}],a=({title:c,value:O,subValue:n,icon:p,color:I})=>e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm h-full",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-3 rounded-xl ${I}`,children:e.jsx(p,{size:24,className:"text-white"})}),e.jsxs("span",{className:"text-sm font-medium text-emerald-600 flex items-center gap-1",children:[e.jsx(de,{size:14})," +12%"]})]}),e.jsx("h3",{className:"text-slate-500 text-sm font-medium",children:c}),e.jsx("p",{className:"text-2xl font-bold text-slate-900 mt-1",children:O}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:n})]});return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-indigo-600 rounded-[32px] p-6 sm:p-8 text-white flex flex-col lg:flex-row items-center justify-between gap-8 relative overflow-hidden shadow-2xl shadow-indigo-900/20",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 blur-3xl rounded-full"}),e.jsxs("div",{className:"relative z-10 space-y-2 text-center lg:text-left",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl font-black tracking-tight",children:g("directBookingsBanner")}),e.jsx("p",{className:"text-indigo-100 font-medium max-w-lg mx-auto lg:mx-0",children:b==="en"?"Stop paying 15-20% OTA commissions. Your guest-facing booking engine is live and optimized for conversion.":"Arrêtez de payer 15-20% de commissions OTA. Votre moteur de réservation client est en ligne et optimisé pour la conversion."}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center lg:justify-start gap-4 pt-4",children:[e.jsxs("div",{className:"px-4 py-2 bg-white/10 rounded-xl border border-white/20",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-indigo-200 mb-1",children:"Comm. Saved (Est)"}),e.jsxs("p",{className:"text-lg sm:text-xl font-black",children:["$",t.toLocaleString()]})]}),e.jsxs("div",{className:"px-4 py-2 bg-white/10 rounded-xl border border-white/20",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-indigo-200 mb-1",children:"Direct Share"}),e.jsxs("p",{className:"text-lg sm:text-xl font-black",children:[w.length>0?Math.round(r.length/w.length*100):0,"%"]})]})]})]}),e.jsxs("button",{onClick:i,className:"relative z-10 w-full lg:w-auto px-8 py-4 bg-white text-indigo-600 rounded-2xl font-black shadow-xl hover:bg-indigo-50 transition-all active:scale-95 flex items-center justify-center gap-3",children:[e.jsx(Be,{size:20}),g("previewPortal"),e.jsx(ae,{size:16,className:"text-amber-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(a,{title:g("totalRevenue"),value:`$${y.toLocaleString()}`,subValue:g("vsLastMonth"),icon:gt,color:"bg-indigo-500"}),e.jsx(a,{title:g("occupancyRate"),value:`${s.toFixed(1)}%`,subValue:`${f} ${g("rooms")} ${g("occupied")}`,icon:Ne,color:"bg-emerald-500"}),e.jsx(a,{title:g("guestRating"),value:`${k.toFixed(1)} / 5`,subValue:`${j.length} ${g("internalReviews")}`,icon:Ce,color:"bg-amber-500"}),e.jsx(a,{title:g("operationTasks"),value:u.toString(),subValue:g("unfinishedTasks"),icon:xe,color:"bg-rose-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm min-h-[400px]",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-6",children:b==="en"?"Revenue Performance":"Performance des Revenus"}),e.jsx("div",{className:"h-72 sm:h-80",children:e.jsx(ee,{width:"100%",height:"100%",children:e.jsxs(Ue,{data:o,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#6366f1",stopOpacity:.1}),e.jsx("stop",{offset:"95%",stopColor:"#6366f1",stopOpacity:0})]})}),e.jsx(ie,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),e.jsx(re,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),e.jsx(ne,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),e.jsx(te,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),e.jsx(Ie,{type:"monotone",dataKey:"revenue",stroke:"#6366f1",strokeWidth:3,fillOpacity:1,fill:"url(#colorRevenue)"})]})})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm min-h-[400px]",children:[e.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-6",children:b==="en"?"Occupancy Trends":"Tendances d'Occupation"}),e.jsx("div",{className:"h-72 sm:h-80",children:e.jsx(ee,{width:"100%",height:"100%",children:e.jsxs(Ae,{data:o,children:[e.jsx(ie,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),e.jsx(re,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),e.jsx(ne,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),e.jsx(te,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),e.jsx(fe,{dataKey:"occupancy",fill:"#10b981",radius:[6,6,0,0],barSize:32})]})})})]})]})]})},Ls=Object.freeze(Object.defineProperty({__proto__:null,default:ps},Symbol.toStringTag,{value:"Module"})),hs=({categories:h,onClose:w,onSubmit:C,existingRoom:j})=>{const[i,b]=x.useState({number:(j==null?void 0:j.number)||"",categoryId:(j==null?void 0:j.categoryId)||"",status:(j==null?void 0:j.status)||L.AVAILABLE,floor:(j==null?void 0:j.floor)||1}),[g,f]=x.useState({}),s=y=>{y.preventDefault();const u={};i.number.trim()||(u.number="Room number is required"),i.categoryId||(u.categoryId="Room category is required"),i.floor<1&&(u.floor="Floor must be at least 1"),f(u),Object.keys(u).length===0&&C({number:i.number.trim(),categoryId:i.categoryId,status:i.status,floor:i.floor,maintenanceHistory:(j==null?void 0:j.maintenanceHistory)||[]})};return e.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white w-full max-w-md rounded-[40px] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"bg-indigo-600 px-8 py-6 flex items-center justify-between text-white",children:[e.jsxs("h2",{className:"text-xl font-black flex items-center gap-3",children:[e.jsx(Ke,{size:24}),j?"Edit Room":"Add New Room"]}),e.jsx("button",{onClick:w,className:"p-2 hover:bg-white/10 rounded-xl transition-colors","aria-label":"Close room form",children:e.jsx(W,{size:28})})]}),e.jsxs("form",{onSubmit:s,className:"p-8 space-y-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Room Number"}),e.jsx("input",{type:"text",required:!0,className:`w-full px-4 py-3.5 bg-slate-50 border rounded-2xl focus:ring-2 focus:outline-none text-sm font-bold text-slate-900 transition-all ${g.number?"border-rose-500 focus:ring-rose-500/20":"border-slate-200 focus:ring-indigo-500/20"}`,placeholder:"e.g., 101, 205, etc.",value:i.number,onChange:y=>b({...i,number:y.target.value}),"aria-label":"Room number"}),g.number&&e.jsx("p",{className:"text-[10px] text-rose-500 font-black uppercase tracking-widest mt-1 ml-1",children:g.number})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Room Category"}),e.jsxs("select",{required:!0,className:`w-full px-4 py-3.5 bg-slate-50 border rounded-2xl focus:ring-2 focus:outline-none text-sm font-bold text-slate-900 transition-all appearance-none cursor-pointer ${g.categoryId?"border-rose-500 focus:ring-rose-500/20":"border-slate-200 focus:ring-indigo-500/20"}`,value:i.categoryId,onChange:y=>b({...i,categoryId:y.target.value}),"aria-label":"Room category",children:[e.jsx("option",{value:"",className:"text-slate-400",children:"Select a category..."}),h.map(y=>e.jsxs("option",{value:y.id,className:"text-slate-900",children:[y.name," - $",y.basePrice,"/night (",y.capacity," guests)"]},y.id))]}),g.categoryId&&e.jsx("p",{className:"text-[10px] text-rose-500 font-black uppercase tracking-widest mt-1 ml-1",children:g.categoryId})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Floor"}),e.jsx("input",{type:"number",min:"1",required:!0,className:`w-full px-4 py-3.5 bg-slate-50 border rounded-2xl focus:ring-2 focus:outline-none text-sm font-bold text-slate-900 transition-all ${g.floor?"border-rose-500 focus:ring-rose-500/20":"border-slate-200 focus:ring-indigo-500/20"}`,value:i.floor,onChange:y=>b({...i,floor:parseInt(y.target.value)||1}),"aria-label":"Floor number"}),g.floor&&e.jsx("p",{className:"text-[10px] text-rose-500 font-black uppercase tracking-widest mt-1 ml-1",children:g.floor})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Initial Status"}),e.jsxs("select",{className:"w-full px-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500/20 focus:outline-none text-sm font-bold text-slate-900 transition-all appearance-none cursor-pointer",value:i.status,onChange:y=>b({...i,status:y.target.value}),"aria-label":"Room status",children:[e.jsx("option",{value:L.AVAILABLE,children:"Available"}),e.jsx("option",{value:L.OCCUPIED,children:"Occupied"}),e.jsx("option",{value:L.CLEANING,children:"Cleaning"}),e.jsx("option",{value:L.MAINTENANCE,children:"Maintenance"})]})]})]}),e.jsxs("div",{className:"flex gap-4 pt-6",children:[e.jsx("button",{type:"button",onClick:w,className:"flex-1 px-8 py-4 text-xs font-black uppercase tracking-widest text-slate-500 hover:bg-slate-50 rounded-2xl transition-all",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"flex-[2] px-8 py-4 rounded-2xl font-black text-xs uppercase tracking-[0.2em] transition-all shadow-xl flex items-center justify-center gap-3 active:scale-[0.98] bg-indigo-600 text-white hover:bg-indigo-700 shadow-indigo-900/20",children:[e.jsx(Q,{size:20}),j?"Update Room":"Add Room"]})]})]})]})})},gs=({rooms:h,categories:w,bookings:C,onStatusChange:j,onRoomClick:i,onAddRoom:b})=>{const[g,f]=x.useState(""),[s,y]=x.useState({checkIn:"",checkOut:""}),[u,k]=x.useState(!1),r=a=>{switch(a){case L.AVAILABLE:return{color:"bg-emerald-50 border-emerald-200 text-emerald-700",icon:Y,label:"Available"};case L.OCCUPIED:return{color:"bg-blue-50 border-blue-200 text-blue-700",icon:ft,label:"Occupied"};case L.CLEANING:return{color:"bg-amber-50 border-amber-200 text-amber-700",icon:we,label:"Cleaning"};case L.MAINTENANCE:return{color:"bg-rose-50 border-rose-200 text-rose-700",icon:ze,label:"Maintenance"};case"BOOKED_FOR_RANGE":return{color:"bg-indigo-50 border-indigo-200 text-indigo-700",icon:De,label:"Reserved"}}},N=x.useMemo(()=>{const a=g.toLowerCase().trim();return h.filter(c=>c.number.toLowerCase().includes(a)||c.floor.toString().includes(a))},[h,g]),t=a=>{if(a.status===L.MAINTENANCE)return L.MAINTENANCE;if(s.checkIn&&s.checkOut){const c=new Date(s.checkIn+"T00:00:00"),O=new Date(s.checkOut+"T00:00:00");return C.some(p=>{if(p.roomId!==a.id||p.status==="cancelled"||p.status==="checked-out")return!1;const I=new Date(p.checkIn+"T00:00:00"),v=new Date(p.checkOut+"T00:00:00");return c<v&&O>I})?"BOOKED_FOR_RANGE":L.AVAILABLE}return a.status},o=x.useMemo(()=>{if(!s.checkIn||!s.checkOut)return 0;const a=new Date(s.checkIn+"T00:00:00"),O=new Date(s.checkOut+"T00:00:00").getTime()-a.getTime();return Math.ceil(O/(1e3*60*60*24))},[s]);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Room Management"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Manage your hotel rooms and availability"})]}),e.jsxs("button",{onClick:()=>k(!0),className:"px-6 py-3 bg-indigo-600 text-white rounded-2xl font-black text-sm hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-900/20 flex items-center gap-3 active:scale-[0.98]",children:[e.jsx(Q,{size:20}),"Add Room"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-[32px] border border-slate-200 shadow-sm flex flex-col xl:flex-row items-center gap-6",children:[e.jsxs("div",{className:"relative flex-1 w-full",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",children:e.jsx(J,{size:18})}),e.jsx("input",{type:"text",placeholder:"Filter room numbers...",className:"w-full pl-12 pr-12 py-3 bg-indigo-50/50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-indigo-500/20 text-sm font-medium transition-all",value:g,onChange:a=>f(a.target.value)}),g&&e.jsx("button",{onClick:()=>f(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 p-1 rounded-full hover:bg-slate-100 transition-all",children:e.jsx(W,{size:16})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full xl:w-auto",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-indigo-50/50 p-1 rounded-2xl border border-slate-200 w-full sm:w-auto",children:[e.jsxs("div",{className:"flex flex-col px-3 py-1",children:[e.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Arrival"}),e.jsx("input",{type:"date",className:"bg-transparent text-xs font-bold text-slate-700 focus:outline-none",value:s.checkIn,onChange:a=>y({...s,checkIn:a.target.value})})]}),e.jsx(bt,{size:14,className:"text-slate-300"}),e.jsxs("div",{className:"flex flex-col px-3 py-1",children:[e.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"Departure"}),e.jsx("input",{type:"date",min:s.checkIn,className:"bg-transparent text-xs font-bold text-slate-700 focus:outline-none",value:s.checkOut,onChange:a=>y({...s,checkOut:a.target.value})})]}),(s.checkIn||s.checkOut)&&e.jsx("button",{onClick:()=>y({checkIn:"",checkOut:""}),className:"p-2 text-slate-400 hover:text-rose-500 transition-colors",children:e.jsx(W,{size:16})})]}),o>0&&e.jsxs("div",{className:"px-4 py-2 bg-indigo-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest animate-in zoom-in-95",children:[o," Nights Mode"]})]})]}),s.checkIn&&s.checkOut&&o<=0&&e.jsxs("div",{className:"p-4 bg-rose-50 border border-rose-200 rounded-2xl flex items-center gap-3 text-rose-700 animate-in slide-in-from-top-2",children:[e.jsx(ze,{size:18}),e.jsx("p",{className:"text-xs font-bold",children:"Please select a valid check-out date after the check-in date."})]}),N.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:N.map(a=>{const c=w.find(E=>E.id===a.categoryId),O=t(a),{color:n,icon:p,label:I}=r(O),v=!!(s.checkIn&&s.checkOut);return e.jsxs("div",{onClick:()=>i(a),className:`p-5 rounded-3xl border transition-all hover:shadow-2xl bg-white group relative overflow-hidden cursor-pointer active:scale-95 shadow-sm border-slate-100 hover:border-indigo-100 ${v&&O===L.AVAILABLE?"ring-2 ring-emerald-500/20":""}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-2xl font-black text-slate-800 tracking-tight",children:["#",a.number]}),e.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:["Floor ",a.floor]})]}),e.jsx("div",{className:`p-2.5 rounded-2xl transition-colors duration-500 ${n}`,children:e.jsx(p,{size:20})})]}),e.jsx("div",{className:"space-y-3 mb-6",children:e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-bold text-slate-800 flex items-center gap-2",children:[e.jsx(Ke,{size:14,className:"text-indigo-500"}),(c==null?void 0:c.name)||"Unknown Type"]}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-slate-500",children:[e.jsxs("span",{className:"flex items-center gap-1 font-medium",children:[e.jsx(ue,{size:12})," ",c==null?void 0:c.capacity," Pax"]}),e.jsxs("span",{className:"flex items-center gap-1 font-bold text-indigo-600",children:["$",c==null?void 0:c.basePrice,e.jsx("span",{className:"text-[10px] font-normal text-slate-400",children:"/nt"})]})]})]})}),e.jsxs("div",{className:"flex flex-col gap-2 mt-auto",onClick:E=>E.stopPropagation(),children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${n.split(" ")[0].replace("-50","-500")} animate-pulse`}),e.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${n.split(" ")[2]}`,children:I})]}),v&&e.jsx("span",{className:"text-[8px] font-bold text-slate-400 uppercase mt-0.5",children:"For selected range"})]})}),!v&&e.jsxs("select",{value:a.status,onChange:E=>j(a.id,E.target.value),className:"mt-2 text-[10px] w-full bg-indigo-50/50 border border-slate-200 rounded-xl p-2.5 font-bold text-slate-600 focus:outline-none focus:ring-2 focus:ring-indigo-500/20 transition-all hover:bg-white cursor-pointer",children:[e.jsx("option",{value:L.AVAILABLE,children:"Set Available"}),e.jsx("option",{value:L.OCCUPIED,children:"Set Occupied"}),e.jsx("option",{value:L.CLEANING,children:"Set Cleaning"}),e.jsx("option",{value:L.MAINTENANCE,children:"Set Maintenance"})]}),v&&O===L.AVAILABLE&&e.jsx("button",{className:"mt-2 w-full py-2.5 bg-emerald-600 text-white rounded-xl text-[10px] font-black uppercase tracking-widest shadow-lg shadow-emerald-900/10 hover:bg-emerald-700 transition-all",children:"Quick Reserve"})]})]},a.id)})}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-[32px] border-2 border-dashed border-slate-200",children:[e.jsx("div",{className:"p-4 bg-slate-50 rounded-full mb-4",children:e.jsx(J,{size:32,className:"text-slate-300"})}),e.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"No rooms found"}),e.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:[`We couldn't find any rooms matching "`,g,'"']}),e.jsx("button",{onClick:()=>f(""),className:"mt-6 text-sm font-bold text-indigo-600 hover:text-indigo-800 transition-colors",children:"Clear Search"})]}),u&&e.jsx(hs,{categories:w,onClose:()=>k(!1),onSubmit:a=>{b(a),k(!1)}})]})},Ps=Object.freeze(Object.defineProperty({__proto__:null,default:gs},Symbol.toStringTag,{value:"Module"})),bs=({rooms:h,guests:w,allBookings:C,categories:j=[],onClose:i,onSubmit:b})=>{const[g,f]=x.useState(!1),[s,y]=x.useState({guestId:"",roomId:"",checkIn:"",checkOut:"",guestsCount:1,specialRequests:"",internalNotes:""}),[u,k]=x.useState({name:"",phone:"",email:"",location:""}),[r,N]=x.useState({}),[t,o]=x.useState({}),a=new Date().toISOString().split("T")[0],c=x.useMemo(()=>h.find(d=>d.id===s.roomId),[s.roomId,h]),O=x.useMemo(()=>j.find(d=>d.id===(c==null?void 0:c.categoryId)),[c,j]),n=x.useMemo(()=>{if(!s.checkIn||!s.checkOut)return 0;const d=new Date(s.checkIn+"T00:00:00"),M=new Date(s.checkOut+"T00:00:00").getTime()-d.getTime(),_=Math.ceil(M/(1e3*60*60*24));return _>0?_:0},[s.checkIn,s.checkOut]);x.useEffect(()=>{const d={};if(s.checkIn&&s.checkOut){const z=new Date(s.checkIn+"T00:00:00");new Date(s.checkOut+"T00:00:00")<=z&&(d.checkOut="Check-out must be at least one day after check-in")}if(s.checkIn&&s.checkIn<a&&(d.checkIn="Check-in cannot be in the past"),O&&s.guestsCount>O.capacity&&(d.guestsCount=`Max capacity for this ${O.name} is ${O.capacity}`),s.roomId&&s.checkIn&&s.checkOut&&!d.checkOut){const z=new Date(s.checkIn+"T00:00:00"),M=new Date(s.checkOut+"T00:00:00");C.some($=>{if($.roomId!==s.roomId||$.status==="cancelled"||$.status==="checked-out")return!1;const G=new Date($.checkIn+"T00:00:00"),H=new Date($.checkOut+"T00:00:00");return z<H&&M>G})&&(d.roomId="This room was recently reserved for these dates")}N(d)},[s,O,C,a]);const p=x.useMemo(()=>{if(!s.checkIn||!s.checkOut||r.checkOut)return[];const d=new Date(s.checkIn+"T00:00:00"),z=new Date(s.checkOut+"T00:00:00");return h.filter(M=>M.status===L.MAINTENANCE?!1:!C.some($=>{if($.roomId!==M.id||$.status==="cancelled"||$.status==="checked-out")return!1;const G=new Date($.checkIn+"T00:00:00"),H=new Date($.checkOut+"T00:00:00");return d<H&&z>G}))},[s.checkIn,s.checkOut,h,C,r.checkOut]),I=x.useMemo(()=>n<=0||!c||!O||r.checkOut?0:n*O.basePrice,[n,c,O,r.checkOut]),v=d=>{o(z=>({...z,[d]:!0}))},E=(d,z)=>{y(M=>({...M,[d]:z,roomId:""})),o(M=>({...M,roomId:!1}))},m=d=>{if(d.preventDefault(),Object.keys(r).length>0)return;let z=s.guestId,M;if(g){if(!u.name||!u.email||!u.phone||!u.location){alert("Please provide all guest details: Name, Phone, Email, and Location.");return}z=`g-quick-${Math.random().toString(36).substr(2,9)}`,M={id:z,name:u.name,email:u.email,phone:u.phone,location:u.location,documentId:"PENDING",nationality:u.location,ageGroup:"26-35"}}else if(!s.guestId){o(_=>({..._,guestId:!0}));return}if(!s.roomId||!s.checkIn||!s.checkOut){o({guestId:!0,roomId:!0,checkIn:!0,checkOut:!0});return}b({booking:{...s,guestId:z,id:`b${Math.random().toString(36).substr(2,9)}`,totalPrice:I,status:"confirmed",source:"Direct"},newGuest:M})},R=s.checkIn&&s.checkOut&&!r.checkOut;return e.jsx("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[40px] shadow-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"bg-indigo-600 px-8 py-6 flex items-center justify-between text-white",children:[e.jsxs("h2",{className:"text-xl font-black flex items-center gap-3",children:[e.jsx(De,{size:24}),"Reservation Terminal"]}),e.jsx("button",{onClick:i,className:"p-2 hover:bg-white/10 rounded-xl transition-colors","aria-label":"Close booking form",children:e.jsx(W,{size:28})})]}),e.jsxs("form",{onSubmit:m,className:"p-8 space-y-6 max-h-[80vh] overflow-y-auto custom-scrollbar",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Guest Information"}),e.jsx("button",{type:"button",onClick:()=>f(!g),className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest hover:text-indigo-800 transition-colors flex items-center gap-1.5",children:g?e.jsxs(e.Fragment,{children:[e.jsx(J,{size:12})," Select Existing"]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{size:12})," Register New Guest"]})})]}),g?e.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{required:!0,type:"text",placeholder:"Guest Full Name",className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500/20 focus:outline-none text-sm font-bold text-slate-900",value:u.name,onChange:d=>k({...u,name:d.target.value}),"aria-label":"Guest full name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Oe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{required:!0,type:"tel",placeholder:"Phone",className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500/20 focus:outline-none text-sm font-bold text-slate-900",value:u.phone,onChange:d=>k({...u,phone:d.target.value}),"aria-label":"Guest phone number"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(oe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{required:!0,type:"email",placeholder:"Email",className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500/20 focus:outline-none text-sm font-bold text-slate-900",value:u.email,onChange:d=>k({...u,email:d.target.value}),"aria-label":"Guest email address"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(jt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{required:!0,type:"text",placeholder:"Guest Location / City",className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500/20 focus:outline-none text-sm font-bold text-slate-900",value:u.location,onChange:d=>k({...u,location:d.target.value}),"aria-label":"Guest location or city"})]})]}):e.jsxs("div",{className:"space-y-1",children:[e.jsxs("select",{required:!0,className:`w-full px-4 py-3.5 bg-slate-50 border rounded-2xl focus:ring-2 focus:outline-none text-sm font-bold text-slate-900 transition-all appearance-none cursor-pointer ${t.guestId&&!s.guestId?"border-rose-500 focus:ring-rose-500/20":"border-slate-200 focus:ring-indigo-500/20"}`,value:s.guestId,onBlur:()=>v("guestId"),onChange:d=>y({...s,guestId:d.target.value}),"aria-label":"Select existing guest",children:[e.jsx("option",{value:"",className:"text-slate-400",children:"Search system for guest..."}),w.map(d=>e.jsxs("option",{value:d.id,className:"text-slate-900",children:[d.name," — ",d.phone]},d.id))]}),t.guestId&&!s.guestId&&e.jsx("p",{className:"text-[10px] text-rose-500 font-black uppercase tracking-widest mt-1 ml-1",children:"Registry selection required"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-2",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Arrival"}),e.jsx("input",{type:"date",required:!0,min:a,className:`w-full px-4 py-3.5 bg-slate-50 border rounded-2xl focus:ring-2 focus:outline-none text-sm font-bold text-slate-900 transition-all ${t.checkIn&&r.checkIn?"border-rose-500 focus:ring-rose-500/20":"border-slate-200 focus:ring-indigo-500/20"}`,value:s.checkIn,onBlur:()=>v("checkIn"),onChange:d=>E("checkIn",d.target.value),"aria-label":"Check-in date"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Departure"}),e.jsx("input",{type:"date",required:!0,min:s.checkIn||a,className:`w-full px-4 py-3.5 bg-slate-50 border rounded-2xl focus:ring-2 focus:outline-none text-sm font-bold text-slate-900 transition-all ${t.checkOut&&r.checkOut?"border-rose-500 focus:ring-rose-500/20":"border-slate-200 focus:ring-indigo-500/20"}`,value:s.checkOut,onBlur:()=>v("checkOut"),onChange:d=>E("checkOut",d.target.value),"aria-label":"Check-out date"})]})]}),R&&e.jsx("div",{className:"flex justify-center -my-2",children:e.jsxs("div",{className:"px-4 py-1.5 bg-indigo-50 text-indigo-700 rounded-full border border-indigo-100 flex items-center gap-2 animate-in slide-in-from-top-1",children:[e.jsx(Nt,{size:14,className:"animate-pulse"}),e.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:[n," Night Stay"]})]})}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1 flex items-center justify-between",children:["Room Inventory",!R&&e.jsxs("span",{className:"text-[9px] text-amber-600 font-bold flex items-center gap-1",children:[e.jsx(De,{size:10})," Dates required for availability check"]})]}),e.jsxs("select",{required:!0,disabled:!R,className:`w-full px-4 py-3.5 border rounded-2xl focus:ring-2 focus:outline-none text-sm font-bold transition-all appearance-none cursor-pointer ${R?t.roomId&&(r.roomId||!s.roomId)?"border-rose-500 focus:ring-rose-500/20 text-slate-900":"bg-slate-50 border-slate-200 focus:ring-indigo-500/20 text-slate-900":"bg-slate-50/50 border-slate-200 cursor-not-allowed text-slate-300"}`,value:s.roomId,onBlur:()=>v("roomId"),onChange:d=>y({...s,roomId:d.target.value}),"aria-label":"Select available room",children:[e.jsx("option",{value:"",className:"text-slate-400",children:R?"Select an available unit...":"Awaiting dates..."}),p.map(d=>{const z=j.find(M=>M.id===d.categoryId);return e.jsxs("option",{value:d.id,className:"text-slate-900",children:["Room ",d.number," — ",z==null?void 0:z.name," ($",z==null?void 0:z.basePrice,"/night)"]},d.id)})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Pax Count"}),e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"number",min:"1",className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500/20 text-sm font-bold text-slate-900",value:s.guestsCount,onChange:d=>y({...s,guestsCount:parseInt(d.target.value)||1}),"aria-label":"Number of guests"})]})]}),I>0&&e.jsxs("div",{className:"p-4 bg-emerald-50 rounded-2xl flex flex-col justify-center border border-emerald-100 items-end",children:[e.jsx("p",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-widest mb-0.5",children:"Est. Total"}),e.jsxs("span",{className:"text-xl font-black text-emerald-700",children:["$",I]})]})]}),e.jsx("div",{className:"space-y-4 pt-2",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Special Requests"}),e.jsx("textarea",{className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500/20 focus:outline-none text-sm font-bold text-slate-900 resize-none h-20",placeholder:"Dietary, Accessibility, etc...",value:s.specialRequests,onChange:d=>y({...s,specialRequests:d.target.value})})]})}),e.jsxs("div",{className:"flex gap-4 pt-6",children:[e.jsx("button",{type:"button",onClick:i,className:"flex-1 px-8 py-4 text-xs font-black uppercase tracking-widest text-slate-500 hover:bg-slate-50 rounded-2xl transition-all",children:"Discard"}),e.jsxs("button",{type:"submit",disabled:!s.roomId||Object.keys(r).length>0,className:`flex-[2] px-8 py-4 rounded-2xl font-black text-xs uppercase tracking-[0.2em] transition-all shadow-xl flex items-center justify-center gap-3 active:scale-[0.98] ${!s.roomId||Object.keys(r).length>0?"bg-slate-100 text-slate-400 cursor-not-allowed shadow-none":"bg-indigo-600 text-white hover:bg-indigo-700 shadow-indigo-900/20"}`,children:[e.jsx(vt,{size:20}),"Verify & Confirm"]})]})]})]})})},Fs=Object.freeze(Object.defineProperty({__proto__:null,default:bs},Symbol.toStringTag,{value:"Module"})),fs=({staff:h,tasks:w,onUpdateStaffStatus:C,onAddStaff:j,onDeleteStaff:i,onGenerateAccessKey:b,onRevokeAccessKey:g,currentUser:f})=>{const[s,y]=x.useState(""),[u,k]=x.useState("All"),[r,N]=x.useState("All"),[t,o]=x.useState("name"),[a,c]=x.useState({}),O=x.useMemo(()=>{const m=new Set(h.map(R=>R.department));return["All",...Array.from(m)]},[h]),n=["All",...Object.values(P)],p=m=>w.filter(R=>R.assignedStaffId===m&&R.status!==q.COMPLETED).length,I=x.useMemo(()=>{const m=s.toLowerCase().trim();let R=h.filter(d=>{const z=d.name.toLowerCase().includes(m)||d.role.toLowerCase().includes(m)||d.department.toLowerCase().includes(m),M=u==="All"||d.department===u,_=r==="All"||d.status===r;return z&&M&&_});return t==="name"?R.sort((d,z)=>d.name.localeCompare(z.name)):t==="workload"&&R.sort((d,z)=>p(z.id)-p(d.id)),R},[h,s,u,r,t,w]),v=m=>{switch(m){case P.AVAILABLE:return"bg-emerald-500";case P.BUSY:return"bg-rose-500";case P.OFFLINE:return"bg-slate-400";case P.ON_BREAK:return"bg-amber-500";default:return"bg-slate-400"}},E=()=>{y(""),k("All"),N("All"),o("name")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col xl:flex-row items-center justify-between gap-4 bg-white/5 p-4 rounded-[32px] border border-white/5",children:[e.jsxs("div",{className:"relative flex-1 w-full",children:[e.jsx(J,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search by name, role or unit...",className:"w-full pl-12 pr-12 py-3.5 bg-slate-900 border border-slate-700 rounded-2xl focus:outline-none focus:ring-2 focus:ring-indigo-500/50 text-white text-sm font-medium shadow-inner transition-all",value:s,onChange:m=>y(m.target.value)}),s&&e.jsx("button",{onClick:()=>y(""),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500 hover:text-white p-1 rounded-full hover:bg-slate-800",title:"Clear search",children:e.jsx(W,{size:16})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full xl:w-auto",children:[e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsx(Ee,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",size:14}),e.jsx("select",{className:"w-full sm:w-44 pl-10 pr-8 py-3.5 bg-slate-800 border border-slate-700 text-slate-300 rounded-2xl font-bold text-[10px] uppercase tracking-widest focus:outline-none focus:ring-2 focus:ring-indigo-500/50 appearance-none cursor-pointer",value:u,onChange:m=>k(m.target.value),title:"Filter by department",children:O.map(m=>e.jsx("option",{value:m,children:m==="All"?"All Units":m},m))})]}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsx(wt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",size:14}),e.jsx("select",{className:"w-full sm:w-44 pl-10 pr-8 py-3.5 bg-slate-800 border border-slate-700 text-slate-300 rounded-2xl font-bold text-[10px] uppercase tracking-widest focus:outline-none focus:ring-2 focus:ring-indigo-500/50 appearance-none cursor-pointer",value:r,onChange:m=>N(m.target.value),title:"Filter by status",children:n.map(m=>e.jsx("option",{value:m,children:m==="All"?"Any Status":m.replace("-"," ")},m))})]}),e.jsxs("div",{className:"relative flex-1 sm:flex-none",children:[e.jsx(yt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",size:14}),e.jsxs("select",{className:"w-full sm:w-44 pl-10 pr-8 py-3.5 bg-slate-800 border border-slate-700 text-slate-300 rounded-2xl font-bold text-[10px] uppercase tracking-widest focus:outline-none focus:ring-2 focus:ring-indigo-500/50 appearance-none cursor-pointer",value:t,onChange:m=>o(m.target.value),title:"Sort staff",children:[e.jsx("option",{value:"name",children:"Sort by Name"}),e.jsx("option",{value:"workload",children:"Highest Workload"})]})]}),e.jsxs("button",{onClick:j,className:"flex-1 sm:flex-none px-6 py-3.5 bg-indigo-600 text-white rounded-2xl font-black flex items-center justify-center gap-2 text-xs uppercase tracking-widest hover:bg-indigo-700 shadow-lg shadow-indigo-900/40 transition-all active:scale-95",children:[e.jsx(Q,{size:18}),"Add Staff"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between px-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]",children:"Staff Registry"}),e.jsxs("span",{className:"bg-indigo-500/20 text-indigo-400 px-2 py-0.5 rounded-full text-[10px] font-black",children:[I.length," of ",h.length]})]}),(s||u!=="All"||r!=="All")&&e.jsxs("button",{onClick:E,className:"text-[10px] font-black text-indigo-400 hover:text-indigo-300 uppercase tracking-widest flex items-center gap-1.5 transition-colors",children:[e.jsx(qe,{size:12})," Reset Filters"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-[40px] border-2 border-dashed border-indigo-200 p-6 shadow-sm hover:shadow-xl hover:border-indigo-300 transition-all group animate-in fade-in zoom-in-95 duration-300 cursor-pointer",onClick:()=>{console.log("Add Staff card clicked"),j()},children:e.jsxs("div",{className:"flex flex-col items-center justify-center h-full min-h-[280px] text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-indigo-600 rounded-3xl flex items-center justify-center mb-4 group-hover:bg-indigo-700 transition-colors",children:e.jsx(Q,{size:32,className:"text-white"})}),e.jsx("h3",{className:"text-lg font-black text-indigo-900 mb-2",children:"Add New Staff"}),e.jsx("p",{className:"text-sm text-indigo-700 font-medium leading-relaxed",children:"Onboard a new team member with access keys and permissions"}),e.jsx("div",{className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-2xl text-xs font-black uppercase tracking-widest group-hover:bg-indigo-700 transition-colors",children:"Quick Add"})]})}),I.map(m=>{const R=p(m.id);return e.jsxs("div",{className:"bg-white rounded-[40px] border border-slate-200 p-6 shadow-sm hover:shadow-2xl hover:border-indigo-100 transition-all group animate-in fade-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:m.avatar,alt:m.name,className:"w-16 h-16 rounded-3xl object-cover border-4 border-slate-50 shadow-sm"}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-5 h-5 rounded-full border-4 border-white shadow-sm ${v(m.status)}`})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-900 leading-tight line-clamp-1",children:m.name}),e.jsx("p",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest mt-0.5",children:m.role})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[f.permissionRole===A.ADMIN&&m.id!==f.id&&e.jsx("button",{onClick:()=>i(m.id),className:"p-2 text-slate-300 hover:text-rose-600 rounded-xl hover:bg-rose-50 transition-colors",title:"Delete Staff",children:e.jsx(kt,{size:20})}),e.jsx("button",{className:"p-2 text-slate-300 hover:text-slate-600 rounded-xl hover:bg-slate-50 transition-colors",title:"More Options",children:e.jsx(He,{size:20})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[e.jsxs("div",{className:"p-3 bg-slate-50 rounded-2xl border border-slate-100/50",children:[e.jsxs("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.2em] mb-1 flex items-center gap-1.5",children:[e.jsx(Me,{size:10})," Unit"]}),e.jsx("p",{className:"text-[11px] font-bold text-slate-700 truncate",children:m.department})]}),e.jsxs("div",{className:"p-3 bg-slate-50 rounded-2xl border border-slate-100/50",children:[e.jsxs("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.2em] mb-1 flex items-center gap-1.5",children:[e.jsx(We,{size:10})," Workload"]}),e.jsxs("p",{className:`text-[11px] font-black ${R>2?"text-rose-500":"text-emerald-600"}`,children:[R," Active"]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs px-1",children:[e.jsxs("span",{className:"text-slate-400 font-bold flex items-center gap-1.5",children:[e.jsx(oe,{size:12})," Email"]}),e.jsx("span",{className:"text-slate-700 font-medium truncate max-w-[120px]",children:m.email})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs px-1",children:[e.jsxs("span",{className:"text-slate-400 font-bold flex items-center gap-1.5",children:[e.jsx(St,{size:12})," Contact"]}),e.jsx("span",{className:"text-slate-700 font-medium",children:m.phone})]}),e.jsxs("div",{className:"pt-4 mt-4 border-t border-slate-50",children:[e.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.2em] block mb-2 px-1",children:"Shift Control"}),e.jsxs("select",{value:m.status,onChange:d=>C(m.id,d.target.value),className:"w-full text-xs font-black p-3 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500/20 focus:outline-none transition-all cursor-pointer hover:bg-white text-slate-600",title:"Update staff status",children:[e.jsx("option",{value:P.AVAILABLE,children:"Set Available"}),e.jsx("option",{value:P.BUSY,children:"Set Busy"}),e.jsx("option",{value:P.ON_BREAK,children:"Set On Break"}),e.jsx("option",{value:P.OFFLINE,children:"Set Offline"})]})]}),f.permissionRole===A.ADMIN&&e.jsxs("div",{className:"pt-4 mt-4 border-t border-slate-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[e.jsx("label",{className:"text-[8px] font-black text-slate-400 uppercase tracking-[0.2em]",children:"Access Keys"}),e.jsx("button",{onClick:()=>c(d=>({...d,[m.id]:!d[m.id]})),className:"text-slate-400 hover:text-slate-600 transition-colors",title:a[m.id]?"Hide access keys":"Show access keys",children:a[m.id]?e.jsx(Ve,{size:12}):e.jsx(Te,{size:12})})]}),a[m.id]&&e.jsxs("div",{className:"space-y-2",children:[m.accessKeys&&m.accessKeys.length>0?m.accessKeys.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-slate-50 rounded-lg border border-slate-100",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ct,{size:10,className:"text-slate-400"}),e.jsx("span",{className:"text-[10px] font-mono text-slate-600 truncate",children:d.key})]}),d.description&&e.jsx("p",{className:"text-[8px] text-slate-500 mt-0.5 truncate",children:d.description}),e.jsxs("p",{className:"text-[8px] text-slate-400 mt-0.5",children:["Created: ",new Date(d.createdAt).toLocaleDateString(),d.lastUsed&&` • Last used: ${new Date(d.lastUsed).toLocaleDateString()}`]})]}),e.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[e.jsx("button",{onClick:()=>navigator.clipboard.writeText(d.key),className:"p-1 text-slate-400 hover:text-slate-600 transition-colors",title:"Copy key",children:e.jsx(je,{size:10})}),d.active?e.jsx("button",{onClick:()=>g(m.id,d.id),className:"p-1 text-rose-400 hover:text-rose-600 transition-colors",title:"Revoke key",children:e.jsx(It,{size:10})}):e.jsx("span",{className:"text-[8px] text-rose-500 font-medium",children:"Revoked"})]})]},d.id)):e.jsx("p",{className:"text-[10px] text-slate-400 text-center py-2",children:"No access keys"}),e.jsxs("button",{onClick:()=>b(m.id,`Generated on ${new Date().toLocaleDateString()}`),className:"w-full text-[10px] font-black text-indigo-600 hover:text-indigo-700 uppercase tracking-widest flex items-center justify-center gap-1 py-2 border border-indigo-200 rounded-lg hover:bg-indigo-50 transition-colors",children:[e.jsx(Qe,{size:12}),"Generate New Key"]})]})]})]})]},m.id)})]})]})},$s=Object.freeze(Object.defineProperty({__proto__:null,default:fs},Symbol.toStringTag,{value:"Module"})),js=({onClose:h,onSubmit:w})=>{const C=x.useRef(null),[j,i]=x.useState(null),[b,g]=x.useState({name:"",email:"",role:"",department:"Front Desk",permissionRole:A.FRONT_DESK,phone:""}),f=r=>{var t;const N=(t=r.target.files)==null?void 0:t[0];if(N){const o=new FileReader;o.onloadend=()=>{i(o.result)},o.readAsDataURL(N)}},s=()=>{var r;(r=C.current)==null||r.click()},y=r=>{r.stopPropagation(),i(null),C.current&&(C.current.value="")},u=()=>{const r=`${b.department.toLowerCase().substring(0,2)}_${Math.random().toString(36).substring(2,15)}`;return{id:`ak${Math.random().toString(36).substr(2,5)}`,key:r,createdAt:new Date().toISOString(),description:`${b.role} Access Key`,active:!0}},k=r=>{r.preventDefault();const N={id:`s${Math.random().toString(36).substr(2,5)}`,name:b.name,email:b.email,role:b.role,department:b.department,permissionRole:b.permissionRole,phone:b.phone,status:P.AVAILABLE,avatar:j||`https://picsum.photos/seed/${b.name.replace(/\s/g,"")}/100`,password:"password123",accessKeys:[u()]};w(N)};return e.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md flex items-center justify-center z-[70] p-4",children:e.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[40px] shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-300",children:[e.jsxs("div",{className:"bg-indigo-600 px-8 py-6 flex items-center justify-between text-white",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-2xl",children:e.jsx(Ye,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black tracking-tight",children:"Onboard New Team Member"}),e.jsx("p",{className:"text-xs font-bold text-indigo-100 uppercase tracking-widest mt-0.5",children:"Staff Credentials & Access"})]})]}),e.jsx("button",{onClick:h,className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:e.jsx(W,{size:28})})]}),e.jsxs("form",{onSubmit:k,className:"p-8 space-y-6 max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pb-2",children:[e.jsxs("div",{onClick:s,className:"relative group cursor-pointer",children:[e.jsxs("div",{className:"w-32 h-32 rounded-[40px] bg-slate-100 border-4 border-white shadow-xl flex items-center justify-center overflow-hidden transition-all group-hover:border-indigo-100 group-hover:shadow-indigo-900/10",children:[j?e.jsx("img",{src:j,alt:"Preview",className:"w-full h-full object-cover"}):e.jsxs("div",{className:"flex flex-col items-center text-slate-400",children:[e.jsx(Z,{size:40}),e.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest mt-2",children:"No Photo"})]}),e.jsx("div",{className:"absolute inset-0 bg-indigo-600/0 group-hover:bg-indigo-600/40 transition-all flex items-center justify-center opacity-0 group-hover:opacity-100",children:e.jsx(At,{size:32,className:"text-white"})})]}),j&&e.jsx("button",{type:"button",onClick:y,className:"absolute -top-2 -right-2 w-8 h-8 bg-rose-500 text-white rounded-full shadow-lg flex items-center justify-center hover:bg-rose-600 transition-colors border-2 border-white",title:"Remove photo",children:e.jsx(ye,{size:14})})]}),e.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-4",children:j?"Click to change image":"Click to upload profile photo"}),e.jsx("input",{type:"file",ref:C,onChange:f,accept:"image/*",className:"hidden"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{required:!0,type:"text",placeholder:"e.g. Robert Smith",className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500/20 focus:outline-none text-sm font-bold text-slate-700",value:b.name,onChange:r=>g({...b,name:r.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Work Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(oe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{required:!0,type:"email",placeholder:"robert@luxestay.com",className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500/20 focus:outline-none text-sm font-bold text-slate-700",value:b.email,onChange:r=>g({...b,email:r.target.value})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Professional Job Title"}),e.jsxs("div",{className:"relative",children:[e.jsx(se,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{required:!0,type:"text",placeholder:"e.g. Senior Concierge",className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500/20 focus:outline-none text-sm font-bold text-slate-700",value:b.role,onChange:r=>g({...b,role:r.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Department assignment"}),e.jsxs("div",{className:"relative",children:[e.jsx(Me,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsxs("select",{className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500/20 focus:outline-none text-sm font-black text-slate-600 appearance-none cursor-pointer",value:b.department,onChange:r=>g({...b,department:r.target.value}),children:[e.jsx("option",{value:"Front Desk",children:"Front Desk Unit"}),e.jsx("option",{value:"Housekeeping",children:"Housekeeping Unit"}),e.jsx("option",{value:"Maintenance",children:"Maintenance Unit"}),e.jsx("option",{value:"Concierge",children:"Concierge Unit"}),e.jsx("option",{value:"Management",children:"Executive Mgmt"}),e.jsx("option",{value:"Finance",children:"Finance Dept"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"System Permission Role"}),e.jsxs("div",{className:"relative",children:[e.jsx(Je,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsxs("select",{className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500/20 focus:outline-none text-sm font-black text-slate-600 appearance-none cursor-pointer",value:b.permissionRole,onChange:r=>g({...b,permissionRole:r.target.value}),children:[e.jsx("option",{value:A.FRONT_DESK,children:"Front Desk Access"}),e.jsx("option",{value:A.HOUSEKEEPING,children:"Service Access Only"}),e.jsx("option",{value:A.MAINTENANCE,children:"Tech Access Only"}),e.jsx("option",{value:A.MANAGEMENT,children:"Manager Level"}),e.jsx("option",{value:A.ADMIN,children:"Full Terminal Admin"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Direct Contact Phone"}),e.jsxs("div",{className:"relative",children:[e.jsx(Oe,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{required:!0,type:"tel",placeholder:"555-0000",className:"w-full pl-12 pr-4 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500/20 focus:outline-none text-sm font-bold text-slate-700",value:b.phone,onChange:r=>g({...b,phone:r.target.value})})]})]}),e.jsxs("div",{className:"flex gap-4 pt-6",children:[e.jsx("button",{type:"button",onClick:h,className:"flex-1 px-8 py-4 text-xs font-black uppercase tracking-widest text-slate-500 hover:bg-slate-50 rounded-2xl transition-all",children:"Discard"}),e.jsxs("button",{type:"submit",className:"flex-[2] px-8 py-4 bg-indigo-600 text-white rounded-2xl font-black text-xs uppercase tracking-[0.2em] hover:bg-indigo-700 transition-all shadow-xl shadow-indigo-900/20 flex items-center justify-center gap-3 active:scale-[0.98]",children:[e.jsx(Y,{size:20}),"Verify & Add Staff"]})]})]})]})})},Gs=Object.freeze(Object.defineProperty({__proto__:null,default:js},Symbol.toStringTag,{value:"Module"})),Ns=({tasks:h,rooms:w,staff:C,templates:j,onUpdateStatus:i,onUpdatePriority:b,onUpdateAssignedStaff:g,onReorderTask:f,onAddTask:s,onAddTemplate:y,onDeleteTemplate:u,onEditTemplate:k,onUseTemplate:r})=>{const[N,t]=x.useState("board"),[o,a]=x.useState("all"),[c,O]=x.useState(""),[n,p]=x.useState(null),[I,v]=x.useState(null),[E,m]=x.useState(null),R=S=>{switch(S){case U.HIGH:return"text-rose-600 bg-rose-50 border-rose-200";case U.MEDIUM:return"text-amber-600 bg-amber-50 border-amber-200";case U.LOW:return"text-emerald-600 bg-emerald-50 border-emerald-200"}},d=S=>{switch(S){case P.AVAILABLE:return"🟢";case P.ON_BREAK:return"🟡";case P.BUSY:return"🔴";case P.OFFLINE:return"⚪";default:return"❓"}},z=x.useMemo(()=>{const S={[P.AVAILABLE]:1,[P.ON_BREAK]:2,[P.BUSY]:3,[P.OFFLINE]:4};return[...C].sort((l,D)=>(S[l.status]||5)-(S[D.status]||5))},[C]),M=S=>{switch(S){case X.CLEANING:return e.jsx(ae,{size:16,className:"text-blue-500"});case X.MAINTENANCE:return e.jsx(ze,{size:16,className:"text-orange-500"});case X.SERVICE:return e.jsx(Lt,{size:16,className:"text-indigo-500"});case X.FRONT_DESK:return e.jsx(Rt,{size:16,className:"text-slate-500"})}},_=x.useMemo(()=>h.filter(S=>{const l=o==="all"||S.assignedStaffId===o,D=S.title.toLowerCase().includes(c.toLowerCase())||S.description.toLowerCase().includes(c.toLowerCase());return l&&D}),[h,o,c]),$=x.useMemo(()=>j.filter(S=>S.name.toLowerCase().includes(c.toLowerCase())||S.title.toLowerCase().includes(c.toLowerCase())),[j,c]),G=[{id:q.PENDING,title:"Pending",icon:we,color:"text-slate-500 bg-slate-100"},{id:q.IN_PROGRESS,title:"In Progress",icon:Xe,color:"text-amber-500 bg-amber-100"},{id:q.COMPLETED,title:"Completed",icon:Y,color:"text-emerald-500 bg-emerald-100"}],H=(S,l)=>{p(l),S.dataTransfer.setData("taskId",l),S.dataTransfer.effectAllowed="move";const D=S.currentTarget;setTimeout(()=>{D.classList.add("opacity-40")},0)},V=S=>{p(null),v(null),m(null),S.currentTarget.classList.remove("opacity-40")},ce=(S,l)=>{S.preventDefault(),v(l)},le=(S,l)=>{S.preventDefault(),S.stopPropagation(),l!==n&&m(l)},pe=(S,l,D)=>{S.preventDefault();const F=S.dataTransfer.getData("taskId");F&&f(F,l,D),v(null),m(null)};return e.jsxs("div",{className:"space-y-6 pb-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex bg-white p-1 rounded-2xl border border-slate-200 shadow-sm w-full md:w-auto",children:[e.jsxs("button",{onClick:()=>t("board"),className:`flex-1 md:flex-none px-6 py-2 rounded-xl text-sm font-bold transition-all flex items-center justify-center gap-2 ${N==="board"?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/10":"text-slate-500 hover:text-slate-800"}`,children:[e.jsx(zt,{size:18}),"Task Board"]}),e.jsxs("button",{onClick:()=>t("templates"),className:`flex-1 md:flex-none px-6 py-2 rounded-xl text-sm font-bold transition-all flex items-center justify-center gap-2 ${N==="templates"?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/10":"text-slate-500 hover:text-slate-800"}`,children:[e.jsx(je,{size:18}),"Templates"]})]}),e.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[e.jsxs("div",{className:"relative flex-1 md:w-64",children:[e.jsx(J,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),e.jsx("input",{type:"text",placeholder:N==="board"?"Search tasks...":"Search templates...",className:"w-full pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500/20 text-sm font-medium",value:c,onChange:S=>O(S.target.value)})]}),N==="board"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative hidden md:block",children:[e.jsx(Z,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),e.jsxs("select",{className:"pl-9 pr-8 py-2.5 bg-white border border-slate-200 rounded-xl text-xs font-bold text-slate-700 focus:outline-none appearance-none cursor-pointer",value:o,onChange:S=>a(S.target.value),children:[e.jsx("option",{value:"all",children:"All Staff"}),C.map(S=>e.jsx("option",{value:S.id,children:S.name},S.id))]})]}),e.jsxs("button",{onClick:s,className:"px-6 py-2.5 bg-indigo-600 text-white rounded-xl font-bold flex items-center justify-center gap-2 text-sm hover:bg-indigo-700 shadow-lg shadow-indigo-900/10",children:[e.jsx(Q,{size:18}),"New Task"]})]}):e.jsxs("button",{onClick:y,className:"px-6 py-2.5 bg-emerald-600 text-white rounded-xl font-bold flex items-center justify-center gap-2 text-sm hover:bg-emerald-700 shadow-lg shadow-emerald-900/10",children:[e.jsx(Q,{size:18}),"New Template"]})]})]}),N==="board"?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:G.map(S=>e.jsxs("div",{className:`flex flex-col h-full min-h-[600px] rounded-3xl transition-colors duration-300 ${I===S.id?"bg-indigo-50/50 ring-2 ring-indigo-200 ring-inset":"bg-transparent"}`,onDragOver:l=>ce(l,S.id),onDrop:l=>pe(l,S.id),children:[e.jsx("div",{className:"flex items-center justify-between mb-4 px-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`p-1.5 rounded-lg ${S.color}`,children:e.jsx(S.icon,{size:16})}),e.jsx("h3",{className:"font-black text-slate-700 uppercase tracking-widest text-[10px]",children:S.title}),e.jsx("span",{className:"bg-slate-200 text-slate-600 px-2 py-0.5 rounded-full text-[10px] font-black",children:_.filter(l=>l.status===S.id).length})]})}),e.jsx("div",{className:"space-y-4 flex-1",children:_.filter(l=>l.status===S.id).map(l=>{const D=w.find(T=>T.id===l.roomId),F=C.find(T=>T.id===l.assignedStaffId),B=n===l.id,K=E===l.id;return e.jsxs("div",{draggable:!0,onDragStart:T=>H(T,l.id),onDragEnd:V,onDragOver:T=>le(T,l.id),onDrop:T=>pe(T,S.id,l.id),className:`bg-white border border-slate-200 rounded-2xl p-5 shadow-sm hover:shadow-md transition-all group border-l-4 relative overflow-hidden cursor-grab active:cursor-grabbing ${K?"ring-2 ring-indigo-500 translate-y-1":""} ${B?"shadow-none":""}`,style:{borderLeftColor:l.priority===U.HIGH?"#ef4444":l.priority===U.MEDIUM?"#f59e0b":"#10b981"},children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity bg-slate-50/50",children:e.jsx(Dt,{size:12,className:"text-slate-300"})}),l.priority===U.HIGH&&e.jsx("div",{className:"absolute top-0 right-0 pointer-events-none",children:e.jsx("div",{className:"bg-rose-500 text-white text-[8px] font-black py-0.5 px-3 rotate-45 translate-x-3 translate-y-2 uppercase shadow-sm",children:"Urgent"})}),e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[M(l.type),e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:l.type})]}),e.jsxs("select",{value:l.priority,onChange:T=>b(l.id,T.target.value),className:`px-2 py-0.5 rounded text-[10px] font-black uppercase tracking-wider border cursor-pointer focus:outline-none appearance-none transition-colors ${R(l.priority)}`,children:[e.jsx("option",{value:U.LOW,children:"Low"}),e.jsx("option",{value:U.MEDIUM,children:"Medium"}),e.jsx("option",{value:U.HIGH,children:"High"})]})]}),e.jsxs("h4",{className:"font-bold text-slate-800 text-sm mb-2 group-hover:text-indigo-600 transition-colors flex items-center gap-2",children:[e.jsx(Ot,{size:10,fill:l.priority===U.HIGH?"#ef4444":l.priority===U.MEDIUM?"#f59e0b":"#10b981",className:l.priority===U.HIGH?"text-rose-500 animate-pulse":l.priority===U.MEDIUM?"text-amber-500":"text-emerald-500"}),l.title]}),e.jsx("p",{className:"text-xs text-slate-500 leading-relaxed mb-4 line-clamp-2",children:l.description}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[D?e.jsxs("span",{className:"text-[10px] font-black bg-indigo-50 text-indigo-600 px-2 py-0.5 rounded uppercase",children:["Room ",D.number]}):e.jsx("span",{className:"text-[10px] font-bold text-slate-300 italic",children:"General"}),e.jsxs("div",{className:"flex items-center gap-1.5 ml-1",children:[F&&e.jsx("img",{src:F.avatar,className:"w-5 h-5 rounded-full border border-slate-200 shrink-0",alt:F.name}),e.jsxs("div",{className:"relative group/staff",children:[e.jsxs("select",{value:l.assignedStaffId||"",onChange:T=>g(l.id,T.target.value),className:"text-[10px] font-bold text-slate-500 hover:text-indigo-600 bg-transparent focus:outline-none cursor-pointer border-none p-0 max-w-[100px] appearance-none",children:[e.jsx("option",{value:"",children:"Unassigned"}),z.map(T=>e.jsxs("option",{value:T.id,children:[d(T.status)," ",T.name.split(" ")[0]," — ",T.status.replace("-"," ").toUpperCase()]},T.id))]}),e.jsx("div",{className:"absolute right-[-10px] top-1/2 -translate-y-1/2 opacity-0 group-hover/staff:opacity-100 transition-opacity pointer-events-none",children:e.jsx(Et,{size:8})})]})]})]}),e.jsx("div",{className:"flex items-center gap-1",children:l.status!==q.COMPLETED&&e.jsxs("button",{onClick:()=>i(l.id,l.status===q.PENDING?q.IN_PROGRESS:q.COMPLETED),className:"p-1.5 bg-emerald-50 text-emerald-600 rounded-lg hover:bg-emerald-100 transition-colors flex items-center gap-1",children:[e.jsx("span",{className:"text-[10px] font-black uppercase",children:"Next"}),e.jsx(Mt,{size:14,className:"rotate-90"})]})})]})]},l.id)})})]},S.id))}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[$.map(S=>e.jsxs("div",{className:"bg-white border border-slate-200 rounded-3xl p-6 shadow-sm group hover:border-indigo-200 transition-all flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[M(S.type),e.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:S.type})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>k(S),className:"p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",children:e.jsx(Tt,{size:16})}),e.jsx("button",{onClick:()=>u(S.id),className:"p-1.5 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all",children:e.jsx(ye,{size:16})})]})]}),e.jsx("h3",{className:"text-base font-black text-slate-800 mb-1",children:S.name}),e.jsxs("p",{className:"text-[10px] font-bold text-indigo-500 uppercase tracking-widest mb-4",children:["Action: ",S.title]}),e.jsxs("p",{className:"text-xs text-slate-500 leading-relaxed mb-6 line-clamp-3 italic",children:['"',S.description,'"']}),e.jsxs("div",{className:"mt-auto pt-4 border-t border-slate-50 flex items-center justify-between",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-black uppercase tracking-wider border ${R(S.priority)}`,children:S.priority}),e.jsxs("button",{onClick:()=>r(S),className:"flex items-center gap-2 px-4 py-2 bg-indigo-50 text-indigo-600 rounded-xl text-xs font-black hover:bg-indigo-600 hover:text-white transition-all",children:[e.jsx(Q,{size:14}),"Use Template"]})]})]},S.id)),$.length===0&&e.jsxs("div",{className:"col-span-full py-20 bg-slate-50 rounded-[32px] border-2 border-dashed border-slate-200 text-center",children:[e.jsx(je,{size:48,className:"mx-auto text-slate-200 mb-4"}),e.jsx("p",{className:"text-slate-500 font-bold",children:"No templates found."}),e.jsx("button",{onClick:y,className:"mt-4 text-xs font-black text-indigo-600 uppercase tracking-widest hover:text-indigo-800",children:"Create your first template"})]})]})]})},_s=Object.freeze(Object.defineProperty({__proto__:null,default:Ns},Symbol.toStringTag,{value:"Module"})),vs=({rooms:h,staff:w,tasks:C,templates:j,initialTemplate:i,onClose:b,onSubmit:g})=>{const[f,s]=x.useState({title:(i==null?void 0:i.title)||"",description:(i==null?void 0:i.description)||"",type:(i==null?void 0:i.type)||X.CLEANING,priority:(i==null?void 0:i.priority)||U.MEDIUM,roomId:"",assignedStaffId:""}),y=t=>{switch(t){case P.AVAILABLE:return"🟢";case P.ON_BREAK:return"🟡";case P.BUSY:return"🔴";case P.OFFLINE:return"⚪";default:return"❓"}},u=t=>C.filter(o=>o.assignedStaffId===t&&o.status!==q.COMPLETED).length,k=x.useMemo(()=>{const t={[P.AVAILABLE]:1,[P.ON_BREAK]:2,[P.BUSY]:3,[P.OFFLINE]:4};return[...w].sort((o,a)=>(t[o.status]||5)-(t[a.status]||5))},[w]),r=t=>{const o=j.find(a=>a.id===t);o&&s(a=>({...a,title:o.title,description:o.description,type:o.type,priority:o.priority}))},N=t=>{t.preventDefault();const o={id:`task-${Math.random().toString(36).substr(2,9)}`,status:q.PENDING,createdAt:new Date().toISOString(),...f};g(o)};return e.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center z-[70] p-4",children:e.jsxs("div",{className:"bg-white w-full max-w-lg rounded-3xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"bg-indigo-600 px-6 py-4 flex items-center justify-between text-white",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(xe,{size:20}),"Assign New Task"]}),e.jsx("button",{onClick:b,className:"p-1 hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(W,{size:24})})]}),e.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(je,{size:14})," Quick Template"]}),e.jsxs("select",{className:"w-full px-4 py-2.5 bg-indigo-50 border border-indigo-100 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:outline-none text-sm font-bold text-indigo-700 appearance-none cursor-pointer",onChange:t=>r(t.target.value),defaultValue:"",children:[e.jsx("option",{value:"",disabled:!0,children:"Apply a task template..."}),j.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Task Title"}),e.jsx("input",{required:!0,type:"text",placeholder:"e.g. Broken window repair",className:"w-full px-4 py-2.5 bg-indigo-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:outline-none text-sm font-medium",value:f.title,onChange:t=>s({...f,title:t.target.value})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Description"}),e.jsx("textarea",{required:!0,rows:3,placeholder:"Provide detailed instructions...",className:"w-full px-4 py-2.5 bg-indigo-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:outline-none text-sm font-medium resize-none",value:f.description,onChange:t=>s({...f,description:t.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Type"}),e.jsx("select",{className:"w-full px-4 py-2.5 bg-indigo-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:outline-none text-sm font-medium appearance-none",value:f.type,onChange:t=>s({...f,type:t.target.value}),children:Object.values(X).map(t=>e.jsx("option",{value:t,children:t.charAt(0).toUpperCase()+t.slice(1)},t))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Priority"}),e.jsx("select",{className:"w-full px-4 py-2.5 bg-indigo-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:outline-none text-sm font-medium appearance-none",value:f.priority,onChange:t=>s({...f,priority:t.target.value}),children:Object.values(U).map(t=>e.jsx("option",{value:t,children:t.charAt(0).toUpperCase()+t.slice(1)},t))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(We,{size:14})," Room Link"]}),e.jsxs("select",{className:"w-full px-4 py-2.5 bg-indigo-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:outline-none text-sm font-medium appearance-none",value:f.roomId,onChange:t=>s({...f,roomId:t.target.value}),children:[e.jsx("option",{value:"",children:"General (No Room)"}),h.map(t=>e.jsxs("option",{value:t.id,children:["Room ",t.number]},t.id))]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider flex items-center gap-2",children:[e.jsx(Z,{size:14})," Assign Member"]}),e.jsxs("select",{required:!0,className:"w-full px-4 py-2.5 bg-indigo-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500/20 focus:outline-none text-sm font-medium appearance-none",value:f.assignedStaffId,onChange:t=>s({...f,assignedStaffId:t.target.value}),children:[e.jsx("option",{value:"",children:"Select Staff..."}),k.map(t=>e.jsxs("option",{value:t.id,children:[y(t.status)," ",t.name," — ",t.status.replace("-"," ").toUpperCase()," (",u(t.id)," tasks)"]},t.id))]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-100",children:[e.jsx("button",{type:"button",onClick:b,className:"flex-1 px-6 py-3 border border-slate-200 text-slate-600 rounded-xl font-bold hover:bg-slate-50 transition-colors text-sm",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-colors shadow-lg shadow-indigo-900/20 text-sm flex items-center justify-center gap-2",children:[e.jsx(Y,{size:18}),"Create Task"]})]})]})]})})},Bs=Object.freeze(Object.defineProperty({__proto__:null,default:vs},Symbol.toStringTag,{value:"Module"})),ws=({feedback:h,guests:w,rooms:C})=>{const j=h.length>0?h.reduce((i,b)=>i+b.rating,0)/h.length:0;return e.jsxs("div",{className:"space-y-8 pb-10",children:[e.jsxs("div",{className:"bg-white p-8 rounded-[32px] border border-slate-200 shadow-sm flex flex-col md:flex-row items-center gap-8",children:[e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("h2",{className:"text-4xl font-black text-slate-900",children:j.toFixed(1)}),e.jsx("div",{className:"flex items-center justify-center md:justify-start gap-1 mt-1",children:[1,2,3,4,5].map(i=>e.jsx(Ce,{size:16,className:`${i<=Math.round(j)?"text-amber-400 fill-amber-400":"text-slate-200"}`},i))}),e.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-2",children:"Overall Satisfaction"})]}),e.jsx("div",{className:"hidden md:block w-px h-16 bg-slate-100"}),e.jsxs("div",{className:"flex-1 grid grid-cols-2 sm:grid-cols-4 gap-6 w-full",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-black text-slate-900",children:h.length}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Total Reviews"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-black text-emerald-600",children:h.filter(i=>i.rating>=4).length}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Positive"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-black text-amber-600",children:h.filter(i=>i.rating===3).length}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Neutral"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-black text-rose-600",children:h.filter(i=>i.rating<=2).length}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"Negative"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.slice().reverse().map(i=>{const b=w.find(f=>f.id===i.guestId),g=C.find(f=>f.id===i.roomId);return e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm hover:border-indigo-200 transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:`https://picsum.photos/seed/${i.guestId}/40/40`,className:"w-10 h-10 rounded-full border-2 border-slate-100",alt:"Guest"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-900 text-sm",children:(b==null?void 0:b.name)||"Anonymous Guest"}),e.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(f=>e.jsx(Ce,{size:10,className:`${f<=i.rating?"text-amber-400 fill-amber-400":"text-slate-200"}`},f))})]})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsxs("span",{className:"text-[10px] font-black text-indigo-600 bg-indigo-50 px-2 py-1 rounded-lg uppercase tracking-wider mb-1",children:["Room ",(g==null?void 0:g.number)||"N/A"]}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium",children:new Date(i.createdAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(ge,{size:14,className:"absolute -left-1 -top-1 text-slate-100"}),e.jsxs("p",{className:"text-sm text-slate-600 italic pl-5 leading-relaxed",children:['"',i.comment,'"']})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-50 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4 text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Z,{size:12})," Verified Guest"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ne,{size:12})," Stay Completed"]})]}),e.jsx("button",{className:"text-[10px] font-black text-indigo-500 hover:text-indigo-700 uppercase tracking-wider",children:"Respond"})]})]},i.id)}),h.length===0&&e.jsxs("div",{className:"md:col-span-2 py-20 bg-slate-50 rounded-[32px] border-2 border-dashed border-slate-200 text-center",children:[e.jsx(ge,{size:48,className:"mx-auto text-slate-300 mb-4"}),e.jsx("p",{className:"text-slate-500 font-bold",children:"No feedback collected yet."}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Feedback is gathered during the check-out process."})]})]})]})},Us=Object.freeze(Object.defineProperty({__proto__:null,default:ws},Symbol.toStringTag,{value:"Module"})),ys=({rooms:h,bookings:w,categories:C})=>{const[j,i]=x.useState(!1),[b,g]=x.useState(null),[f,s]=x.useState({}),[y,u]=x.useState(null),[k,r]=x.useState(""),N=new Date().getDay(),t=N===0||N===5||N===6,o=x.useMemo(()=>{const v=w.reduce((d,z)=>d+z.totalPrice,0),E=w.length>0?v/w.length:0,m=v/(h.length||1),R=v*.45/(h.length||1);return{totalRev:v,adr:E,revPar:m,gopar:R}},[h,w]),a=x.useMemo(()=>{const v={};return C.forEach(E=>{const m=h.filter(d=>d.categoryId===E.id),R=m.filter(d=>d.status===L.OCCUPIED).length;v[E.id]={occupied:R,total:m.length,rate:m.length>0?R/m.length*100:0}}),v},[h,C]),c=[{day:"Mon",actual:4200,forecast:4400},{day:"Tue",actual:3800,forecast:4e3},{day:"Wed",actual:5100,forecast:4900},{day:"Thu",actual:4800,forecast:5200},{day:"Fri",actual:7200,forecast:7500},{day:"Sat",actual:8900,forecast:9200},{day:"Sun",actual:6500,forecast:6800}],O=async()=>{i(!0);const v=await ds(C,w);g(v),i(!1)},n=(v,E)=>{u(v),r(E.toFixed(0))},p=v=>{const E=parseFloat(k);!isNaN(E)&&E>=0&&(s(m=>({...m,[v]:E})),u(null))},I=v=>{const E={...f};delete E[v],s(E)};return e.jsxs("div",{className:"space-y-8 pb-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-indigo-500"}),e.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest mb-1",children:"Total Revenue"}),e.jsxs("h3",{className:"text-2xl font-black text-slate-900",children:["$",o.totalRev.toLocaleString()]}),e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-emerald-600 text-xs font-bold",children:[e.jsx(de,{size:14})," +18.4% ",e.jsx("span",{className:"text-slate-400 font-medium",children:"vs LW"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-emerald-500"}),e.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest mb-1",children:"ADR (Avg Daily Rate)"}),e.jsxs("h3",{className:"text-2xl font-black text-slate-900",children:["$",o.adr.toFixed(2)]}),e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-emerald-600 text-xs font-bold",children:[e.jsx(Pt,{size:14})," $12.50 ",e.jsx("span",{className:"text-slate-400 font-medium",children:"increase"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-amber-500"}),e.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest mb-1",children:"RevPAR"}),e.jsxs("h3",{className:"text-2xl font-black text-slate-900",children:["$",o.revPar.toFixed(2)]}),e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-rose-600 text-xs font-bold",children:[e.jsx(Ft,{size:14})," -2.1% ",e.jsx("span",{className:"text-slate-400 font-medium",children:"vs target"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-indigo-600"}),e.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-widest mb-1",children:"GOPPAR (Simulated)"}),e.jsxs("h3",{className:"text-2xl font-black text-slate-900",children:["$",o.gopar.toFixed(2)]}),e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-emerald-600 text-xs font-bold",children:[e.jsx(se,{size:14})," Optimized ",e.jsx("span",{className:"text-slate-400 font-medium",children:"margin"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-3xl border border-slate-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-black text-slate-800 flex items-center gap-2",children:[e.jsx($t,{size:20,className:"text-indigo-600"}),"Revenue Forecast"]}),e.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"AI predicted income vs actual performance"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-500"}),e.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400",children:"Actual"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-indigo-200"}),e.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400",children:"Forecast"})]})]})]}),e.jsx("div",{className:"h-80",children:e.jsx(ee,{width:"100%",height:"100%",children:e.jsxs(Gt,{data:c,children:[e.jsx(ie,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),e.jsx(re,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:700}}),e.jsx(ne,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11,fontWeight:700}}),e.jsx(te,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),e.jsx(fe,{dataKey:"actual",fill:"#6366f1",radius:[8,8,0,0],barSize:40}),e.jsx(_t,{type:"monotone",dataKey:"forecast",stroke:"#94a3b8",strokeWidth:3,strokeDasharray:"8 8",dot:{fill:"#fff",stroke:"#94a3b8",strokeWidth:2,r:4}})]})})})]}),e.jsxs("div",{className:"bg-indigo-600 rounded-3xl p-8 text-white shadow-xl shadow-indigo-900/20 relative overflow-hidden",children:[e.jsx(ae,{className:"absolute top-4 right-4 text-indigo-400 opacity-30",size:64}),e.jsxs("h3",{className:"text-xl font-black mb-2 flex items-center gap-2",children:[e.jsx(Bt,{size:20,className:"text-indigo-200"}),"AI Pricing Engine"]}),e.jsx("p",{className:"text-indigo-100 text-xs font-medium leading-relaxed mb-6",children:"Gemini analyses market trends and booking patterns to optimize your RevPAR."}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("button",{onClick:O,disabled:j,className:"w-full py-4 bg-white text-indigo-600 rounded-2xl font-black text-sm hover:bg-indigo-50 transition-all flex items-center justify-center gap-3 active:scale-95 disabled:opacity-50",children:[j?e.jsx(Ut,{className:"animate-spin",size:18}):e.jsx(ae,{size:18}),b?"Refresh Strategy":"Generate Strategy"]}),b&&e.jsxs("div",{className:"p-5 bg-white/10 border border-white/20 rounded-2xl animate-in fade-in slide-in-from-top-4 duration-300",children:[e.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest text-indigo-200 mb-3 flex items-center gap-2",children:[e.jsx(se,{size:14})," AI Recommendations"]}),e.jsx("div",{className:"text-xs text-indigo-50 leading-relaxed whitespace-pre-wrap",children:b})]})]})]})]}),e.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-lg font-black text-slate-800 flex items-center gap-2",children:[e.jsx(Ze,{size:20,className:"text-emerald-500"}),"Dynamic Rate Management"]}),e.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 border border-slate-100 px-3 py-1.5 rounded-xl",children:[e.jsx(Kt,{size:14,className:"text-indigo-500"}),e.jsxs("span",{className:"text-[10px] font-black uppercase text-slate-600 tracking-wider",children:["Today: ",["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][N],t?" (Weekend Mode)":" (Weekday Mode)"]})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-100",children:[e.jsx("th",{className:"pb-4 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Room Category"}),e.jsx("th",{className:"pb-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Base Rate"}),e.jsx("th",{className:"pb-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Demand Factors"}),e.jsx("th",{className:"pb-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"AI Optimized"}),e.jsx("th",{className:"pb-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Final Rate"}),e.jsx("th",{className:"pb-4 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:C.map((v,E)=>{const m=a[v.id]||{rate:0},R=v.name==="Presidential Villa";let d=v.basePrice,z="Market Rate",M=!1;if(R)t?(d=v.basePrice*1.15,z="Weekend Peak (+15%)",M=!0):(d=v.basePrice*.9,z="Weekday Saver (-10%)",M=!1);else{const V=(E+N)%2===0,ce=m.rate>70?.05:0,le=V?1.05+ce:.98;d=v.basePrice*le,M=le>1,z=m.rate>70?"High Occ. Premium":V?"Steady Interest":"Volume Strategy"}const _=f[v.id],$=_!==void 0?_:d,G=_!==void 0,H=y===v.id;return e.jsxs("tr",{className:`group transition-colors ${H?"bg-indigo-50/30":"hover:bg-slate-50"}`,children:[e.jsxs("td",{className:"py-5",children:[e.jsx("p",{className:"font-bold text-slate-800",children:v.name}),e.jsxs("p",{className:"text-[10px] text-slate-400 font-medium",children:["Occupancy: ",m.rate.toFixed(1),"%"]})]}),e.jsxs("td",{className:"py-5 text-center font-black text-slate-600",children:["$",v.basePrice]}),e.jsx("td",{className:"py-5 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest ${m.rate>60?"bg-rose-50 text-rose-600":"bg-blue-50 text-blue-600"}`,children:m.rate>60?"High Demand":"Normal"}),e.jsx("span",{className:"text-[9px] font-bold text-slate-400 italic",children:z})]})}),e.jsx("td",{className:"py-5 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsxs("span",{className:`text-sm font-black ${M?"text-rose-600":"text-emerald-600"}`,children:["$",d.toFixed(0)]}),M?e.jsx(de,{size:12,className:"text-rose-500"}):e.jsx(de,{size:12,className:"text-emerald-500 rotate-180"})]})}),e.jsx("td",{className:"py-5 text-center",children:H?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"text-sm font-black text-slate-400",children:"$"}),e.jsx("input",{type:"number",className:"w-20 px-2 py-1 bg-white border border-indigo-200 rounded-lg text-sm font-black text-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500/20",value:k,autoFocus:!0,onChange:V=>r(V.target.value),onKeyDown:V=>V.key==="Enter"&&p(v.id)})]}):e.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsxs("span",{className:`text-lg font-black ${G?"text-indigo-600":"text-slate-900"}`,children:["$",$.toFixed(0)]}),G&&e.jsx("span",{className:"bg-indigo-100 text-indigo-700 text-[8px] font-black px-1.5 py-0.5 rounded uppercase tracking-widest",children:"Manual"})]}),G&&e.jsx("div",{className:"flex items-center gap-1 text-[9px] font-bold",children:e.jsxs("span",{className:$>d?"text-rose-500":"text-emerald-500",children:[$>d?"+":"",($-d).toFixed(0),"$ from AI"]})})]})}),e.jsx("td",{className:"py-5 text-right",children:e.jsx("div",{className:"flex items-center justify-end gap-2",children:H?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>u(null),className:"p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-xl transition-all",children:e.jsx(W,{size:16})}),e.jsx("button",{onClick:()=>p(v.id),className:"p-2 bg-emerald-500 text-white rounded-xl hover:bg-emerald-600 transition-all shadow-lg shadow-emerald-900/10",children:e.jsx(qt,{size:16})})]}):e.jsxs(e.Fragment,{children:[G&&e.jsx("button",{onClick:()=>I(v.id),className:"p-2 text-amber-600 hover:bg-amber-50 rounded-xl transition-all",title:"Revert to AI recommendation",children:e.jsx(qe,{size:16})}),e.jsx("button",{onClick:()=>n(v.id,$),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all",title:"Adjust price manually",children:e.jsx(Ht,{size:16})}),e.jsx("button",{className:`px-4 py-1.5 rounded-xl text-xs font-black transition-all ${G?"bg-indigo-600 text-white shadow-lg shadow-indigo-900/20":"bg-indigo-50 text-indigo-600 hover:bg-indigo-600 hover:text-white"}`,children:G?"Apply Manual":"Apply AI"})]})})})]},v.id)})})]})}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-5 bg-slate-50 rounded-3xl border border-slate-100 flex items-start gap-4",children:[e.jsx("div",{className:"p-2 bg-indigo-100 text-indigo-600 rounded-lg shrink-0",children:e.jsx(et,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest mb-1",children:"Dynamic Strategy Status"}),e.jsx("p",{className:"text-xs text-slate-500 leading-relaxed font-medium",children:"The Presidential Villa pricing is strictly governed by day-of-week rules (+15% Weekends / -10% Weekdays). Other categories are optimized using real-time occupancy data."})]})]}),e.jsxs("div",{className:"p-5 bg-amber-50 rounded-3xl border border-amber-100 flex items-start gap-4",children:[e.jsx("div",{className:"p-2 bg-amber-100 text-amber-600 rounded-lg shrink-0",children:e.jsx(se,{size:18})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-black text-slate-800 uppercase tracking-widest mb-1",children:"Manual Overrides Permitted"}),e.jsx("p",{className:"text-xs text-slate-500 leading-relaxed font-medium",children:"Adjust optimized rates based on local events or groups not yet reflected in occupancy trends. Manual prices will persist until reset."})]})]})]})]})]})},Ks=Object.freeze(Object.defineProperty({__proto__:null,default:ys},Symbol.toStringTag,{value:"Module"})),Fe=["#6366f1","#10b981","#f59e0b","#ef4444","#8b5cf6"],ks=({rooms:h,bookings:w,categories:C,guests:j,tasks:i,staff:b})=>{const[g,f]=x.useState("All"),s=x.useMemo(()=>{const t=w.reduce((n,p)=>n+p.totalPrice,0),o=h.filter(n=>n.status===L.OCCUPIED).length,a=o/h.length*100,c=w.length>0?t/w.length:0,O=t/(h.length||1);return{totalRevenue:t,occupancyRate:a,adr:c,revPar:O,occupiedCount:o}},[h,w]),y=x.useMemo(()=>{const t={};return w.forEach(o=>{t[o.source]=(t[o.source]||0)+1}),Object.entries(t).map(([o,a])=>({name:o,value:a}))},[w]),u=x.useMemo(()=>C.map(t=>{const o=h.filter(c=>c.categoryId===t.id),a=o.filter(c=>c.status===L.OCCUPIED).length;return{name:t.name,occupied:a,total:o.length,rate:o.length>0?a/o.length*100:0}}),[C,h]),k=x.useMemo(()=>{const o=Array.from(new Set(b.map(n=>n.department))).map(n=>{const p=b.filter(m=>m.department===n).map(m=>m.id),I=i.filter(m=>m.assignedStaffId&&p.includes(m.assignedStaffId)),v=I.filter(m=>m.status===q.COMPLETED).length,E=I.length;return{name:n,rate:E>0?Math.round(v/E*100):0,completed:v,total:E}}),a=b.map(n=>{const p=i.filter(E=>E.assignedStaffId===n.id),I=p.filter(E=>E.status===q.COMPLETED).length,v=p.length;return{name:n.name.split(" ")[0],rate:v>0?Math.round(I/v*100):0,completed:I,total:v}}).sort((n,p)=>p.rate-n.rate).slice(0,5),c={};i.forEach(n=>{const p=new Date(n.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric"});n.status===q.COMPLETED&&(c[p]=(c[p]||0)+1)});const O=Object.entries(c).map(([n,p])=>({date:n,count:p})).slice(-7);return{deptStats:o,staffStats:a,trend:O}},[i,b]),r=[{day:"May 20",revenue:4500,revPar:450},{day:"May 21",revenue:5200,revPar:520},{day:"May 22",revenue:4800,revPar:480},{day:"May 23",revenue:6100,revPar:610},{day:"May 24",revenue:7500,revPar:750},{day:"May 25",revenue:8900,revPar:890},{day:"May 26",revenue:8200,revPar:820}],N=x.useMemo(()=>{const t=g==="All"?j:j.filter(a=>a.ageGroup===g),o={};return t.forEach(a=>{o[a.nationality]=(o[a.nationality]||0)+1}),Object.entries(o).map(([a,c])=>({name:a,value:c})).sort((a,c)=>c.value-a.value).slice(0,5)},[j,g]);return e.jsxs("div",{className:"space-y-8 pb-12",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-indigo-50 text-indigo-600 rounded-2xl",children:e.jsx(Ze,{size:24})}),e.jsx("span",{className:"text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:"+14.2%"})]}),e.jsx("p",{className:"text-slate-500 text-xs font-black uppercase tracking-widest",children:"Total Revenue"}),e.jsxs("h3",{className:"text-3xl font-black text-slate-900 mt-1",children:["$",s.totalRevenue.toLocaleString()]}),e.jsx("p",{className:"text-[10px] text-slate-400 mt-2 font-medium",children:"Accumulated from all sources"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-emerald-50 text-emerald-600 rounded-2xl",children:e.jsx(et,{size:24})}),e.jsx("span",{className:"text-xs font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-lg",children:"High"})]}),e.jsx("p",{className:"text-slate-500 text-xs font-black uppercase tracking-widest",children:"Occupancy %"}),e.jsxs("h3",{className:"text-3xl font-black text-slate-900 mt-1",children:[s.occupancyRate.toFixed(1),"%"]}),e.jsxs("p",{className:"text-[10px] text-slate-400 mt-2 font-medium",children:[s.occupiedCount," of ",h.length," rooms occupied"]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-rose-50 text-rose-600 rounded-2xl",children:e.jsx(Y,{size:24})}),e.jsx("span",{className:"text-xs font-bold text-indigo-600 bg-indigo-50 px-2 py-1 rounded-lg",children:"Efficient"})]}),e.jsx("p",{className:"text-slate-500 text-xs font-black uppercase tracking-widest",children:"Avg Task Rate"}),e.jsxs("h3",{className:"text-3xl font-black text-slate-900 mt-1",children:[i.length>0?Math.round(i.filter(t=>t.status===q.COMPLETED).length/i.length*100):0,"%"]}),e.jsx("p",{className:"text-[10px] text-slate-400 mt-2 font-medium",children:"Global completion average"})]}),e.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"p-3 bg-amber-50 text-amber-600 rounded-2xl",children:e.jsx(de,{size:24})})}),e.jsx("p",{className:"text-slate-500 text-xs font-black uppercase tracking-widest",children:"RevPAR"}),e.jsxs("h3",{className:"text-3xl font-black text-slate-900 mt-1",children:["$",s.revPar.toFixed(2)]}),e.jsx("p",{className:"text-[10px] text-slate-400 mt-2 font-medium",children:"Revenue per available room"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-3xl border border-slate-200 shadow-sm",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-black text-slate-800 flex items-center gap-2",children:[e.jsx(Me,{size:20,className:"text-indigo-600"}),"Departmental Completion Rates"]}),e.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Efficiency tracking by operational division"})]})}),e.jsx("div",{className:"h-64",children:e.jsx(ee,{width:"100%",height:"100%",children:e.jsxs(Ae,{data:k.deptStats,layout:"vertical",margin:{left:40},children:[e.jsx(ie,{strokeDasharray:"3 3",horizontal:!1,stroke:"#f1f5f9"}),e.jsx(re,{type:"number",hide:!0,domain:[0,100]}),e.jsx(ne,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:11,fontWeight:700}}),e.jsx(te,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),e.jsx(fe,{dataKey:"rate",fill:"#6366f1",radius:[0,8,8,0],barSize:24,label:{position:"right",formatter:t=>`${t}%`,fontSize:10,fontWeight:"bold",fill:"#6366f1"}})]})})})]}),e.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-black text-slate-800 mb-2 flex items-center gap-2",children:[e.jsx(xe,{size:20,className:"text-emerald-500"}),"Staff Efficiency"]}),e.jsx("p",{className:"text-xs text-slate-400 font-medium mb-6",children:"Top 5 performance by individual"}),e.jsx("div",{className:"space-y-4",children:k.staffStats.map((t,o)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-[10px] font-black text-slate-500 border border-slate-200",children:["#",o+1]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"text-xs font-bold text-slate-700",children:t.name}),e.jsxs("span",{className:"text-[10px] font-black text-emerald-600",children:[t.rate,"%"]})]}),e.jsx("div",{className:"h-1.5 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:`${t.rate}%`}})})]})]},o))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-3xl border border-slate-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-black text-slate-800",children:"Financial Performance"}),e.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Daily Revenue vs RevPAR analytics"})]}),e.jsxs("button",{className:"flex items-center gap-2 text-xs font-bold text-indigo-600 hover:bg-indigo-50 px-3 py-2 rounded-xl transition-colors",children:["Full Report ",e.jsx(Wt,{size:14})]})]}),e.jsx("div",{className:"h-80",children:e.jsx(ee,{width:"100%",height:"100%",children:e.jsxs(Ue,{data:r,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorRev",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#6366f1",stopOpacity:.1}),e.jsx("stop",{offset:"95%",stopColor:"#6366f1",stopOpacity:0})]})}),e.jsx(ie,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),e.jsx(re,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:600}}),e.jsx(ne,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:10,fontWeight:600}}),e.jsx(te,{contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 20px 25px -5px rgb(0 0 0 / 0.1)"}}),e.jsx(Ie,{type:"monotone",dataKey:"revenue",stroke:"#6366f1",strokeWidth:4,fillOpacity:1,fill:"url(#colorRev)"}),e.jsx(Ie,{type:"monotone",dataKey:"revPar",stroke:"#10b981",strokeWidth:2,fill:"transparent"})]})})})]}),e.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-black text-slate-800 mb-2",children:"Booking Channels"}),e.jsx("p",{className:"text-xs text-slate-400 font-medium mb-8",children:"Distribution by reservation source"}),e.jsx("div",{className:"h-64",children:e.jsx(ee,{width:"100%",height:"100%",children:e.jsxs(Vt,{children:[e.jsx(Qt,{data:y,innerRadius:60,outerRadius:80,paddingAngle:8,dataKey:"value",children:y.map((t,o)=>e.jsx(Yt,{fill:Fe[o%Fe.length]},`cell-${o}`))}),e.jsx(te,{}),e.jsx(Jt,{verticalAlign:"bottom",height:36,iconType:"circle",wrapperStyle:{fontSize:"10px",fontWeight:"bold"}})]})})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-black text-slate-800 mb-6 flex items-center gap-2",children:[e.jsx(Ne,{size:20,className:"text-indigo-500"}),"Performance by Room Type"]}),e.jsx("div",{className:"space-y-6",children:u.map((t,o)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-bold text-slate-700",children:t.name}),e.jsxs("span",{className:"text-xs font-black text-indigo-600",children:[t.rate.toFixed(1),"%"]})]}),e.jsx("div",{className:"h-2 bg-slate-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-indigo-500 rounded-full transition-all duration-1000",style:{width:`${t.rate}%`}})}),e.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 font-medium",children:[e.jsxs("span",{children:[t.occupied," occupied"]}),e.jsxs("span",{children:[t.total," total"]})]})]},o))})]}),e.jsxs("div",{className:"bg-white p-8 rounded-3xl border border-slate-200 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-black text-slate-800 flex items-center gap-2",children:[e.jsx(Be,{size:20,className:"text-emerald-500"}),"Top Guest Nationalities"]}),e.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Geographic distribution of visitors"})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-slate-50 border border-slate-100 p-1.5 rounded-xl",children:[e.jsx(Ee,{size:14,className:"text-slate-400 ml-1.5"}),e.jsxs("select",{className:"bg-transparent text-[10px] font-black uppercase tracking-widest text-slate-600 focus:outline-none cursor-pointer pr-2",value:g,onChange:t=>f(t.target.value),"aria-label":"Filter guests by age group",children:[e.jsx("option",{value:"All",children:"All Ages"}),e.jsx("option",{value:"18-25",children:"18-25"}),e.jsx("option",{value:"26-35",children:"26-35"}),e.jsx("option",{value:"36-50",children:"36-50"}),e.jsx("option",{value:"50+",children:"50+"})]})]})]}),e.jsx("div",{className:"h-64 mt-6",children:N.length>0?e.jsx(ee,{width:"100%",height:"100%",children:e.jsxs(Ae,{data:N,layout:"vertical",margin:{left:20},children:[e.jsx(ie,{strokeDasharray:"3 3",horizontal:!1,stroke:"#f1f5f9"}),e.jsx(re,{type:"number",hide:!0}),e.jsx(ne,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,tick:{fill:"#64748b",fontSize:12,fontWeight:700}}),e.jsx(te,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)"}}),e.jsx(fe,{dataKey:"value",fill:"#10b981",radius:[0,8,8,0],barSize:24,label:{position:"right",fontSize:10,fontWeight:"bold",fill:"#10b981"}})]})}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-300",children:[e.jsx(ue,{size:32,className:"opacity-20 mb-2"}),e.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"No guests in this group"})]})})]})]})]})},qs=Object.freeze(Object.defineProperty({__proto__:null,default:ks},Symbol.toStringTag,{value:"Module"})),Ss=({staff:h,onAddStaff:w,onDeleteStaff:C,currentUser:j})=>{var k;const[i,b]=x.useState(""),[g,f]=x.useState(null),s=h.filter(r=>r.name.toLowerCase().includes(i.toLowerCase())||r.email.toLowerCase().includes(i.toLowerCase())||r.role.toLowerCase().includes(i.toLowerCase())),y=r=>{switch(r){case A.ADMIN:return"bg-indigo-100 text-indigo-700 border-indigo-200";case A.MANAGEMENT:return"bg-emerald-100 text-emerald-700 border-emerald-200";case A.FRONT_DESK:return"bg-blue-100 text-blue-700 border-blue-200";case A.HOUSEKEEPING:return"bg-amber-100 text-amber-700 border-amber-200";case A.MAINTENANCE:return"bg-rose-100 text-rose-700 border-rose-200";default:return"bg-slate-100 text-slate-700 border-slate-200"}},u=[{role:"Administrator",icon:he,color:"text-indigo-600",access:"Full terminal access. Revenue, Settings, and User Management."},{role:"Management",icon:Re,color:"text-emerald-600",access:"Operational control. Analytics, Revenue, and Staff Directory access."},{role:"Front Desk",icon:Xt,color:"text-blue-600",access:"Guest-facing. Booking control, Guest logs, and Messaging Hub."},{role:"Operations",icon:$e,color:"text-amber-600",access:"Service-facing. Task board and Departmental Inbox access only."}];return e.jsxs("div",{className:"space-y-8 pb-12",children:[e.jsxs("div",{className:"bg-white p-8 rounded-[40px] border border-slate-200 shadow-sm flex flex-col md:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"p-4 bg-indigo-600 text-white rounded-3xl shadow-xl shadow-indigo-200/50",children:e.jsx(Re,{size:36})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"User Management"}),e.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Add, manage, or revoke access keys for the LuxeStay HMS terminal."})]})]}),e.jsxs("button",{onClick:w,className:"w-full md:w-auto px-8 py-4 bg-indigo-600 text-white rounded-2xl font-black text-xs uppercase tracking-[0.2em] flex items-center justify-center gap-3 hover:bg-indigo-700 transition-all shadow-xl shadow-indigo-900/20 active:scale-95",children:[e.jsx(Ye,{size:18}),"Onboard New Account"]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"xl:col-span-2 bg-white rounded-[40px] border border-slate-200 shadow-sm overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-8 border-b border-slate-100 bg-slate-50/30 flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] flex items-center gap-2",children:[e.jsx(Je,{size:14,className:"text-indigo-500"})," System Registry"]}),e.jsxs("div",{className:"relative w-full sm:w-80",children:[e.jsx(J,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Filter by name, email or role...",className:"w-full pl-11 pr-4 py-3 bg-white border border-slate-200 rounded-2xl text-xs font-bold focus:outline-none focus:ring-2 focus:ring-indigo-500/20 transition-all",value:i,onChange:r=>b(r.target.value)})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-50",children:[e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Active User"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Access Credentials"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-center",children:"Security Level"}),e.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-widest text-right",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-50",children:s.map(r=>e.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors group",children:[e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r.avatar,className:"w-12 h-12 rounded-2xl object-cover border-2 border-slate-100 shadow-sm",alt:r.name}),e.jsx("div",{className:`absolute -bottom-1 -right-1 w-3.5 h-3.5 rounded-full border-2 border-white ${r.status==="offline"?"bg-slate-300":"bg-emerald-500"}`})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-black text-slate-900 flex items-center gap-2",children:[r.name,r.id===j.id&&e.jsx("span",{className:"bg-indigo-600 text-white text-[8px] font-black px-2 py-0.5 rounded-full uppercase tracking-widest",children:"Self"})]}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:r.role})]})]})}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-600",children:[e.jsx(oe,{size:12,className:"text-slate-400"})," ",r.email]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-600",children:[e.jsx(Oe,{size:12,className:"text-slate-400"})," ",r.phone]})]})}),e.jsx("td",{className:"px-8 py-5 text-center",children:e.jsx("span",{className:`px-4 py-1.5 rounded-full text-[9px] font-black uppercase tracking-widest border shadow-sm inline-block ${y(r.permissionRole)}`,children:r.permissionRole.replace("_"," ")})}),e.jsx("td",{className:"px-8 py-5 text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"p-2.5 text-slate-300 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all",title:"View Terminal Logs",children:e.jsx(Te,{size:18})}),e.jsx("button",{className:"p-2.5 text-slate-300 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all",title:"Reset Credentials",children:e.jsx(Qe,{size:18})}),e.jsx("button",{onClick:()=>f(r.id),disabled:r.id===j.id,className:`p-2.5 rounded-xl transition-all ${r.id===j.id?"text-slate-100 cursor-not-allowed":"text-slate-300 hover:text-rose-600 hover:bg-rose-50"}`,title:"Revoke Access",children:e.jsx(ye,{size:18})})]})})]},r.id))})]})}),s.length===0&&e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center py-32 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-slate-50 rounded-3xl flex items-center justify-center text-slate-200 mb-6",children:e.jsx(he,{size:40})}),e.jsx("h3",{className:"text-lg font-black text-slate-900 mb-1",children:"No matches found"}),e.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-widest",children:"Refine your search parameters"})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-slate-900 p-8 rounded-[40px] text-white shadow-2xl shadow-indigo-900/20 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/10 blur-[60px] rounded-full"}),e.jsxs("h3",{className:"text-lg font-black mb-6 flex items-center gap-3",children:[e.jsx(se,{className:"text-indigo-400"})," Permissions Reference"]}),e.jsx("div",{className:"space-y-6",children:u.map((r,N)=>e.jsxs("div",{className:"flex gap-4 group",children:[e.jsx("div",{className:`p-2.5 rounded-2xl bg-white/5 border border-white/10 ${r.color} transition-colors group-hover:bg-white/10`,children:e.jsx(r.icon,{size:20})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-black uppercase tracking-widest text-indigo-200 mb-1",children:r.role}),e.jsx("p",{className:"text-[11px] text-slate-400 leading-relaxed font-medium",children:r.access})]})]},N))})]}),e.jsxs("div",{className:"bg-amber-50 p-8 rounded-[40px] border border-amber-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-amber-500 text-white rounded-xl",children:e.jsx(_e,{size:18})}),e.jsx("h4",{className:"text-sm font-black text-amber-800 uppercase tracking-widest",children:"Security Warning"})]}),e.jsx("p",{className:"text-xs text-amber-700 font-medium leading-relaxed",children:"Revoking access is immediate and permanent. The targeted user will be logged out of all active sessions and their terminal keys will be invalidated."})]})]})]}),g&&e.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md flex items-center justify-center z-[100] p-4",children:e.jsxs("div",{className:"bg-white w-full max-w-md rounded-[40px] shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"bg-rose-600 px-8 py-6 flex items-center justify-between text-white",children:[e.jsxs("h2",{className:"text-xl font-black flex items-center gap-3",children:[e.jsx(Xe,{size:24}),"Revoke Access"]}),e.jsx("button",{onClick:()=>f(null),className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:e.jsx(W,{size:24})})]}),e.jsxs("div",{className:"p-10 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-rose-50 text-rose-600 rounded-[32px] flex items-center justify-center mx-auto mb-6",children:e.jsx(he,{size:40})}),e.jsx("h3",{className:"text-2xl font-black text-slate-900 mb-3",children:"Confirm Account Deletion"}),e.jsxs("p",{className:"text-sm text-slate-500 font-medium leading-relaxed mb-8",children:["Are you sure you want to permanently revoke access for ",e.jsx("strong",{children:(k=h.find(r=>r.id===g))==null?void 0:k.name}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("button",{onClick:()=>f(null),className:"flex-1 px-6 py-4 text-xs font-black uppercase tracking-widest text-slate-500 hover:bg-slate-50 rounded-2xl transition-all",children:"Discard"}),e.jsxs("button",{onClick:()=>{g&&(C(g),f(null))},className:"flex-[1.5] px-6 py-4 bg-rose-600 text-white rounded-2xl font-black text-xs uppercase tracking-[0.2em] hover:bg-rose-700 transition-all shadow-xl shadow-rose-900/20 flex items-center justify-center gap-3",children:[e.jsx(Y,{size:20}),"Revoke Now"]})]})]})]})})]})},Hs=Object.freeze(Object.defineProperty({__proto__:null,default:Ss},Symbol.toStringTag,{value:"Module"})),Cs=({conversations:h,onSendMessage:w})=>{var o;const[C,j]=x.useState(((o=h[0])==null?void 0:o.id)||null),[i,b]=x.useState(""),[g,f]=x.useState([]),[s,y]=x.useState(!1),u=x.useRef(null),k=h.find(a=>a.id===C);x.useEffect(()=>{u.current&&u.current.scrollIntoView({behavior:"smooth"}),k&&r(k)},[C,k==null?void 0:k.messages.length]);const r=async a=>{y(!0);const c=await xs(a);f(c),y(!1)},N=()=>{!i.trim()||!C||(w(C,i),b(""))},t=async(a,c)=>{const O=await ms(c);alert(`Translation: ${O}`)};return e.jsxs("div",{className:"flex h-[calc(100vh-12rem)] bg-white rounded-[32px] border border-slate-200 overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"w-80 border-r border-slate-100 flex flex-col bg-slate-50/30",children:[e.jsxs("div",{className:"p-6 border-b border-slate-100",children:[e.jsx("h3",{className:"text-xl font-black text-slate-800 mb-4",children:"Guest Messages"}),e.jsxs("div",{className:"relative",children:[e.jsx(J,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),e.jsx("input",{type:"text",placeholder:"Search conversations...",className:"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-xl text-xs focus:outline-none focus:ring-2 focus:ring-indigo-500/20"})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:h.map(a=>e.jsxs("button",{onClick:()=>j(a.id),className:`w-full p-4 flex items-start gap-3 transition-all hover:bg-white border-b border-slate-100/50 ${C===a.id?"bg-white shadow-sm":""}`,children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-50 text-indigo-600 rounded-2xl flex items-center justify-center font-black",children:a.guestName.charAt(0)}),a.unreadCount>0&&e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-rose-500 text-white text-[10px] font-black flex items-center justify-center rounded-full border-2 border-slate-50",children:a.unreadCount})]}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[e.jsx("span",{className:"text-sm font-bold text-slate-800",children:a.guestName}),e.jsxs("span",{className:"text-[10px] text-slate-400 font-medium",children:["Room ",a.roomNumber]})]}),e.jsx("p",{className:"text-xs text-slate-500 line-clamp-1",children:a.lastMessage})]})]},a.id))})]}),e.jsx("div",{className:"flex-1 flex flex-col bg-white",children:k?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-slate-900 text-white rounded-xl flex items-center justify-center",children:e.jsx(Z,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-slate-800",children:k.guestName}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),e.jsxs("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:["In Room ",k.roomNumber]})]})]})]}),e.jsx("button",{className:"p-2 text-slate-400 hover:text-slate-600 rounded-xl hover:bg-slate-50",children:e.jsx(He,{size:20})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 bg-slate-50/30",children:[k.messages.map(a=>e.jsx("div",{className:`flex ${a.sender==="guest"?"justify-start":"justify-end"} group`,children:e.jsxs("div",{className:`max-w-[70%] flex flex-col ${a.sender==="guest"?"items-start":"items-end"}`,children:[e.jsxs("div",{className:`p-4 rounded-[24px] text-sm leading-relaxed shadow-sm relative ${a.sender==="guest"?"bg-white text-slate-700 border border-slate-100 rounded-tl-none":"bg-indigo-600 text-white rounded-tr-none"}`,children:[a.text,a.sender==="guest"&&e.jsx("button",{onClick:()=>t(a.id,a.text),className:"absolute -right-10 top-1/2 -translate-y-1/2 p-2 text-slate-300 hover:text-indigo-500 opacity-0 group-hover:opacity-100 transition-all",title:"Translate message",children:e.jsx(Zt,{size:14})})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest",children:new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),a.sender==="staff"&&e.jsx(es,{size:12,className:"text-indigo-400"})]})]})},a.id)),e.jsx("div",{ref:u})]}),e.jsxs("div",{className:"p-6 border-t border-slate-100 space-y-4 bg-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-50 text-indigo-600 rounded-lg",children:e.jsx(tt,{size:18})}),e.jsx("div",{className:"flex-1 flex gap-2 overflow-x-auto no-scrollbar",children:s?e.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-black text-indigo-400 uppercase tracking-widest py-2",children:[e.jsx(me,{size:12,className:"animate-spin"})," Gemini is thinking..."]}):g.map((a,c)=>e.jsx("button",{onClick:()=>b(a),className:"px-4 py-2 bg-indigo-50 border border-indigo-100 text-indigo-700 rounded-full text-xs font-bold hover:bg-indigo-600 hover:text-white transition-all whitespace-nowrap",children:a},c))})]}),e.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 p-2 rounded-[24px] border border-slate-100",children:[e.jsx("input",{type:"text",value:i,onChange:a=>b(a.target.value),onKeyDown:a=>a.key==="Enter"&&N(),placeholder:"Type your message to the guest...",className:"flex-1 bg-transparent border-none focus:outline-none px-4 py-2 text-sm font-medium text-slate-700"}),e.jsx("button",{onClick:N,disabled:!i.trim(),className:"w-12 h-12 bg-indigo-600 text-white rounded-2xl hover:bg-indigo-700 disabled:opacity-50 transition-all flex items-center justify-center shadow-lg shadow-indigo-900/10",children:e.jsx(ve,{size:20})})]})]})]}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-300",children:[e.jsx(ge,{size:64,className:"mb-4 opacity-10"}),e.jsx("p",{className:"font-bold",children:"Select a guest to start chatting"})]})})]})},Ws=Object.freeze(Object.defineProperty({__proto__:null,default:Cs},Symbol.toStringTag,{value:"Module"})),Is=({emails:h})=>{const[w,C]=x.useState(null),j=i=>{switch(i){case"Housekeeping":return"bg-blue-50 text-blue-700 border-blue-100";case"Front Desk":return"bg-emerald-50 text-emerald-700 border-emerald-100";case"Management":return"bg-purple-50 text-purple-700 border-purple-100";case"Finance":return"bg-amber-50 text-amber-700 border-amber-100";default:return"bg-slate-50 text-slate-700 border-slate-100"}};return e.jsxs("div",{className:"flex h-[calc(100vh-12rem)] bg-white rounded-3xl border border-slate-200 overflow-hidden shadow-sm",children:[e.jsxs("div",{className:"w-1/3 border-r border-slate-200 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-slate-100 bg-slate-50/50",children:e.jsxs("div",{className:"relative",children:[e.jsx(J,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:16}),e.jsx("input",{type:"text",placeholder:"Search outbox...",className:"w-full pl-9 pr-4 py-2 bg-white border border-slate-200 rounded-xl text-xs focus:outline-none focus:ring-2 focus:ring-indigo-500/20"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:h.length>0?h.slice().reverse().map(i=>e.jsxs("button",{onClick:()=>C(i),className:`w-full text-left p-4 border-b border-slate-50 transition-all hover:bg-slate-50 flex flex-col gap-1 ${(w==null?void 0:w.id)===i.id?"bg-indigo-50/50":""}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`text-[10px] font-black uppercase px-2 py-0.5 rounded-lg border ${j(i.recipientDept)}`,children:i.recipientDept}),e.jsx("span",{className:"text-[10px] text-slate-400 font-medium",children:new Date(i.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("h4",{className:"text-sm font-bold text-slate-800 line-clamp-1",children:i.subject}),e.jsx("p",{className:"text-xs text-slate-500 line-clamp-1",children:i.body})]},i.id)):e.jsxs("div",{className:"p-10 text-center",children:[e.jsx(ts,{size:40,className:"mx-auto text-slate-200 mb-4"}),e.jsx("p",{className:"text-sm text-slate-400 font-medium",children:"No automated notifications sent yet."})]})})]}),e.jsx("div",{className:"flex-1 bg-white flex flex-col",children:w?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-8 border-b border-slate-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-2xl flex items-center justify-center text-white",children:e.jsx(ve,{size:20})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-slate-900",children:w.subject}),e.jsxs("p",{className:"text-sm text-slate-500",children:["To: ",w.recipientDept," Dept."]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-bold text-slate-900",children:new Date(w.timestamp).toLocaleDateString()}),e.jsx("p",{className:"text-xs text-slate-400 font-medium",children:new Date(w.timestamp).toLocaleTimeString()})]})]}),e.jsxs("div",{className:"flex items-center gap-6 py-4 px-6 bg-slate-50 rounded-2xl border border-slate-100",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-600",children:[e.jsx(we,{size:14,className:"text-indigo-500"}),"Sent via LuxeStay Automation"]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-slate-600",children:[e.jsx(Ge,{size:14,className:"text-amber-500"}),"Priority: Standard"]})]})]}),e.jsxs("div",{className:"flex-1 p-8 overflow-y-auto",children:[e.jsx("div",{className:"max-w-2xl prose prose-slate",children:e.jsx("p",{className:"text-slate-700 whitespace-pre-wrap leading-relaxed",children:w.body})}),e.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-100",children:[e.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mb-4",children:"Internal System Metadata"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Transaction ID"}),e.jsx("p",{className:"text-xs font-mono font-bold text-slate-600",children:w.id})]}),e.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[e.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Trigger Event"}),e.jsx("p",{className:"text-xs font-bold text-slate-600 capitalize",children:w.type.replace("_"," ")})]})]})]})]})]}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-300",children:[e.jsx(oe,{size:64,className:"mb-4 opacity-20"}),e.jsx("p",{className:"font-bold text-slate-400",children:"Select an internal notification to view details"})]})})]})},Vs=Object.freeze(Object.defineProperty({__proto__:null,default:Is},Symbol.toStringTag,{value:"Module"})),As=({menu:h,onUpdateMenu:w})=>{const[C,j]=x.useState(""),[i,b]=x.useState("all"),[g,f]=x.useState(!1),[s,y]=x.useState(null),[u,k]=x.useState({name:"",description:"",price:0,category:"Breakfast",image:"",available:!0}),r=["Breakfast","Main Course","Drinks","Desserts","Snacks"],N=h.filter(n=>{const p=n.name.toLowerCase().includes(C.toLowerCase())||n.description.toLowerCase().includes(C.toLowerCase()),I=i==="all"||n.category===i;return p&&I}),t=()=>{k({name:"",description:"",price:0,category:"Breakfast",image:"",available:!0}),y(null)},o=n=>{y(n),k({name:n.name,description:n.description,price:n.price,category:n.category,image:n.image,available:n.available}),f(!0)},a=async n=>{n.preventDefault();const p={id:s?s.id:`m-${Date.now()}`,name:u.name,description:u.description,price:u.price,category:u.category,image:u.image||"https://picsum.photos/seed/default-menu/400/300",available:u.available},I=s?h.map(v=>v.id===s.id?p:v):[p,...h];w(I),await Se.updateCollection("menu",I),f(!1),t()},c=async n=>{if(window.confirm("Are you sure you want to delete this menu item?")){const p=h.filter(I=>I.id!==n);w(p),await Se.updateCollection("menu",p)}},O=async n=>{const p=h.map(I=>I.id===n?{...I,available:!I.available}:I);w(p),await Se.updateCollection("menu",p)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Menu Management"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Upload and manage dining menu items for guest orders."})]}),e.jsxs("button",{onClick:()=>{t(),f(!0)},className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-all flex items-center gap-2 text-sm shadow-lg shadow-indigo-900/20",children:[e.jsx(Q,{size:18}),"Add Menu Item"]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(J,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search menu items...",value:C,onChange:n=>j(n.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500/20 font-medium"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ee,{size:18,className:"text-slate-400"}),e.jsxs("select",{value:i,onChange:n=>b(n.target.value),className:"px-4 py-3 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500/20 font-medium",children:[e.jsx("option",{value:"all",children:"All Categories"}),r.map(n=>e.jsx("option",{value:n,children:n},n))]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(n=>e.jsxs("div",{className:"bg-white rounded-[32px] overflow-hidden border border-slate-100 shadow-sm group hover:shadow-2xl transition-all",children:[e.jsxs("div",{className:"relative h-48",children:[e.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"}),!n.available&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"Unavailable"})}),e.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[e.jsx("button",{onClick:()=>O(n.id),className:`p-2 rounded-xl transition-all ${n.available?"bg-emerald-500 text-white hover:bg-emerald-600":"bg-slate-500 text-white hover:bg-slate-600"}`,title:n.available?"Mark as unavailable":"Mark as available",children:n.available?e.jsx(Te,{size:16}):e.jsx(Ve,{size:16})}),e.jsx("button",{onClick:()=>o(n),className:"p-2 bg-white/90 backdrop-blur-md text-slate-700 rounded-xl hover:bg-white transition-all",children:e.jsx(ss,{size:16})}),e.jsx("button",{onClick:()=>c(n.id),className:"p-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-all",children:e.jsx(ye,{size:16})})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"px-3 py-1 bg-indigo-50 text-indigo-700 rounded-full text-[10px] font-black uppercase tracking-widest",children:n.category}),e.jsxs("span",{className:"text-xl font-black text-indigo-600",children:["$",n.price]})]}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-2",children:n.name}),e.jsx("p",{className:"text-sm text-slate-600 leading-relaxed line-clamp-2",children:n.description}),e.jsx("div",{className:"mt-4 flex items-center justify-between",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-bold uppercase tracking-widest ${n.available?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:n.available?"Available":"Unavailable"})})]})]},n.id))}),N.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-24 h-24 bg-slate-100 text-slate-400 rounded-[32px] flex items-center justify-center mx-auto mb-6",children:e.jsx(as,{size:32})}),e.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No menu items found"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Try adjusting your search or category filter."})]}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-[32px] w-full max-w-md max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-black text-slate-900",children:s?"Edit Menu Item":"Add Menu Item"}),e.jsx("button",{onClick:()=>f(!1),className:"p-2 hover:bg-slate-100 rounded-xl transition-colors",children:e.jsx(W,{size:20})})]}),e.jsxs("form",{onSubmit:a,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-2 block",children:"Item Name"}),e.jsx("input",{type:"text",required:!0,value:u.name,onChange:n=>k({...u,name:n.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500/20 font-medium",placeholder:"e.g., Classic Eggs Benedict"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-2 block",children:"Description"}),e.jsx("textarea",{required:!0,value:u.description,onChange:n=>k({...u,description:n.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500/20 font-medium resize-none",rows:3,placeholder:"Describe the dish..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-2 block",children:"Price ($)"}),e.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:u.price,onChange:n=>k({...u,price:parseFloat(n.target.value)||0}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500/20 font-medium"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-2 block",children:"Category"}),e.jsx("select",{value:u.category,onChange:n=>k({...u,category:n.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500/20 font-medium",children:r.map(n=>e.jsx("option",{value:n,children:n},n))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-slate-700 mb-2 block",children:"Image URL"}),e.jsx("input",{type:"url",value:u.image,onChange:n=>k({...u,image:n.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500/20 font-medium",placeholder:"https://example.com/image.jpg"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Leave empty for default image"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"available",checked:u.available,onChange:n=>k({...u,available:n.target.checked}),className:"w-4 h-4 text-indigo-600 bg-slate-100 border-slate-300 rounded focus:ring-indigo-500"}),e.jsx("label",{htmlFor:"available",className:"text-sm font-bold text-slate-700",children:"Available for ordering"})]}),e.jsxs("div",{className:"flex gap-3 pt-6",children:[e.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 py-3 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-all",children:"Cancel"}),e.jsx("button",{type:"submit",className:"flex-1 py-3 bg-indigo-600 text-white rounded-xl font-bold hover:bg-indigo-700 transition-all",children:s?"Update Item":"Add Item"})]})]})]})})})]})},Qs=Object.freeze(Object.defineProperty({__proto__:null,default:As},Symbol.toStringTag,{value:"Module"})),zs=({menu:h,categories:w,availableRoomsCount:C,onServiceRequest:j})=>{const[i,b]=x.useState(!1),[g,f]=x.useState([{role:"bot",text:"Welcome to LuxeStay! I am your AI Concierge. How can I make your stay perfect today?"}]),[s,y]=x.useState(""),[u,k]=x.useState(!1),r=x.useRef(null);x.useEffect(()=>{r.current&&(r.current.scrollTop=r.current.scrollHeight)},[g,u]);const N=async()=>{if(!s.trim()||u)return;const t=s.trim();y(""),f(a=>[...a,{role:"user",text:t}]),k(!0);const o=await us(t,{menu:h,categories:w,availableRooms:C});if(o.functionCalls){for(const a of o.functionCalls)if(a.name==="request_hotel_service"){const{roomNumber:c,serviceType:O,details:n,priority:p}=a.args,I=O==="maintenance"?X.MAINTENANCE:X.SERVICE,v=p||U.MEDIUM;j(c,I,n,v),f(E=>[...E,{role:"bot",text:`I've sent a request for ${O} to Room ${c}. Our staff will be with you shortly.`,isAction:!0}])}}o.text?f(a=>[...a,{role:"bot",text:o.text}]):o.functionCalls||f(a=>[...a,{role:"bot",text:"I'm sorry, I couldn't process that. Can you try rephrasing?"}]),k(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>b(!0),className:"fixed bottom-10 right-10 w-16 h-16 bg-slate-900 text-white rounded-full shadow-2xl flex items-center justify-center hover:bg-indigo-600 transition-all z-[60] group border-4 border-white",children:[e.jsx(ae,{size:28,className:"group-hover:scale-110 transition-transform text-amber-400"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-indigo-500 rounded-full flex items-center justify-center border-2 border-white animate-bounce",children:e.jsx("span",{className:"text-[10px] font-black",children:"AI"})})]}),i&&e.jsxs("div",{className:"fixed bottom-28 right-10 w-[400px] h-[600px] bg-white rounded-[40px] shadow-[0_32px_64px_-12px_rgba(0,0,0,0.2)] border border-slate-100 flex flex-col overflow-hidden z-[70] animate-in slide-in-from-bottom-8 duration-500",children:[e.jsxs("div",{className:"bg-slate-900 p-6 text-white flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-2xl flex items-center justify-center border border-white/10",children:e.jsx(tt,{size:28,className:"text-amber-400"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-black text-lg tracking-tight",children:"AI Concierge"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),e.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-[0.2em] font-black",children:"Always Online"})]})]})]}),e.jsx("button",{onClick:()=>b(!1),className:"w-10 h-10 bg-white/5 hover:bg-white/10 rounded-xl flex items-center justify-center transition-colors",children:e.jsx(W,{size:20})})]}),e.jsxs("div",{ref:r,className:"flex-1 p-6 overflow-y-auto space-y-6 bg-slate-50/50",children:[g.map((t,o)=>e.jsx("div",{className:`flex ${t.role==="user"?"justify-end":"justify-start"} animate-in fade-in slide-in-from-bottom-2`,children:e.jsx("div",{className:`max-w-[85%] p-4 rounded-[24px] text-sm leading-relaxed shadow-sm ${t.role==="user"?"bg-slate-900 text-white rounded-tr-none":t.isAction?"bg-emerald-50 border border-emerald-100 text-emerald-800 rounded-tl-none font-bold":"bg-white border border-slate-100 text-slate-700 rounded-tl-none"}`,children:t.text})},o)),u&&e.jsx("div",{className:"flex justify-start",children:e.jsxs("div",{className:"bg-white border border-slate-100 p-4 rounded-[24px] rounded-tl-none shadow-sm flex items-center gap-3",children:[e.jsx(me,{className:"animate-spin text-indigo-600",size:16}),e.jsx("span",{className:"text-xs font-bold text-slate-400",children:"Concierge is typing..."})]})})]}),e.jsxs("div",{className:"p-6 border-t border-slate-100 bg-white",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-indigo-50/50 p-2 rounded-[24px] border border-indigo-100/50",children:[e.jsx("input",{type:"text",value:s,onChange:t=>y(t.target.value),onKeyDown:t=>t.key==="Enter"&&N(),placeholder:"Ask for towels, room types, or dinner...",className:"flex-1 bg-transparent border-none focus:outline-none px-4 py-2 text-sm font-medium text-slate-700 placeholder:text-slate-400"}),e.jsx("button",{onClick:N,disabled:u||!s.trim(),className:"w-10 h-10 bg-slate-900 text-white rounded-xl hover:bg-indigo-600 disabled:opacity-50 transition-all flex items-center justify-center shadow-lg",children:e.jsx(ve,{size:18})})]}),e.jsx("p",{className:"text-[9px] text-center text-slate-400 font-bold uppercase tracking-widest mt-4 opacity-50",children:"LuxeStay Intelligent Guest Service v1.2"})]})]})]})},Ds=({rooms:h,categories:w,bookings:C,menu:j,onBookingComplete:i,onFoodRequest:b,onServiceRequest:g,onExit:f,initialTab:s="stay"})=>{const[y,u]=x.useState(s),[k,r]=x.useState("search"),[N,t]=x.useState({checkIn:"",checkOut:""}),[o,a]=x.useState(1),[c,O]=x.useState(null),[n,p]=x.useState(!1),[I,v]=x.useState({}),[E,m]=x.useState(""),[R,d]=x.useState("menu"),[z,M]=x.useState({name:"",email:"",phone:"",documentId:""}),_=l=>{if(!N.checkIn||!N.checkOut)return 0;const D=new Date(N.checkIn+"T00:00:00"),F=new Date(N.checkOut+"T00:00:00");return h.filter(B=>B.categoryId!==l||B.status===L.MAINTENANCE?!1:!C.some(T=>{if(T.roomId!==B.id||T.status==="cancelled"||T.status==="checked-out")return!1;const at=new Date(T.checkIn+"T00:00:00"),lt=new Date(T.checkOut+"T00:00:00");return D<lt&&F>at})).length},$=x.useMemo(()=>h.filter(l=>l.status===L.AVAILABLE).length,[h]),G=x.useMemo(()=>{if(!N.checkIn||!N.checkOut)return 0;const l=new Date(N.checkIn+"T00:00:00"),D=new Date(N.checkOut+"T00:00:00");return Math.ceil((D.getTime()-l.getTime())/(1e3*60*60*24))},[N]),H=(l,D)=>{v(F=>{const B=(F[l]||0)+D;if(B<=0){const K={...F};return delete K[l],K}return{...F,[l]:B}})},V=x.useMemo(()=>Object.entries(I).reduce((l,D)=>{const[F,B]=D,K=ke.find(T=>T.id===F);return l+((K==null?void 0:K.price)||0)*B},0),[I]),ce=async()=>{p(!0),await new Promise(T=>setTimeout(T,2e3));const l=h.filter(T=>!(T.categoryId!==c.id||T.status===L.MAINTENANCE));if(l.length===0){alert("Sorry, this room type just became unavailable for your selected dates."),r("rooms"),p(!1);return}const D=`g-direct-${Math.random().toString(36).substr(2,9)}`,F=`b-direct-${Math.random().toString(36).substr(2,9)}`,B={id:D,...z,location:"Online Booking",nationality:"Online Booking",ageGroup:"26-35"},K={id:F,roomId:l[0].id,guestId:D,checkIn:N.checkIn,checkOut:N.checkOut,totalPrice:((c==null?void 0:c.basePrice)||0)*G,status:"confirmed",guestsCount:o,source:"Direct"};i(K,B),r("success"),p(!1)},le=async()=>{if(!E){alert("Please select your room number.");return}p(!0),await new Promise(D=>setTimeout(D,1500));const l=Object.entries(I).map(D=>{const[F,B]=D;return{item:ke.find(K=>K.id===F),quantity:B}});b(E,l),d("success"),v({}),p(!1)},pe=()=>e.jsx("div",{className:"max-w-6xl mx-auto py-12 px-6",children:R==="menu"?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-12",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-4xl font-black text-slate-900 mb-4",children:"In-Room Dining"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Exceptional cuisine delivered straight to your door, 24/7."})]}),["Breakfast","Main Course","Desserts","Drinks"].map(l=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-sm font-black text-indigo-600 uppercase tracking-[0.2em] flex items-center gap-3",children:[e.jsx("div",{className:"h-px bg-indigo-100 flex-1"}),l,e.jsx("div",{className:"h-px bg-indigo-100 flex-1"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:j.filter(D=>D.category===l).map(D=>e.jsxs("div",{className:"bg-white p-4 rounded-3xl border border-slate-100 shadow-sm flex gap-4 group hover:shadow-xl transition-all",children:[e.jsx("img",{src:D.image,alt:D.name,className:"w-24 h-24 rounded-2xl object-cover shrink-0"}),e.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-bold text-slate-900",children:D.name}),e.jsxs("span",{className:"text-sm font-black text-indigo-600",children:["$",D.price]})]}),e.jsx("p",{className:"text-[10px] text-slate-400 font-medium leading-relaxed mt-1 line-clamp-2",children:D.description})]}),e.jsx("div",{className:"flex justify-end mt-2",children:I[D.id]?e.jsxs("div",{className:"flex items-center gap-3 bg-indigo-50 px-2 py-1 rounded-xl",children:[e.jsx("button",{onClick:()=>H(D.id,-1),"aria-label":"Decrease quantity",className:"p-1 text-indigo-600 hover:bg-white rounded-lg",children:e.jsx(ns,{size:14})}),e.jsx("span",{className:"text-xs font-black text-indigo-700",children:I[D.id]}),e.jsx("button",{onClick:()=>H(D.id,1),"aria-label":"Increase quantity",className:"p-1 text-indigo-600 hover:bg-white rounded-lg",children:e.jsx(Q,{size:14})})]}):e.jsx("button",{onClick:()=>H(D.id,1),className:"px-4 py-1.5 bg-slate-900 text-white rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-indigo-600 transition-all",children:"Add"})})]})]},D.id))})]},l))]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white p-8 rounded-[40px] border border-slate-100 shadow-2xl sticky top-28 space-y-6",children:[e.jsxs("h3",{className:"font-black text-slate-900 uppercase tracking-widest text-xs flex items-center gap-2",children:[e.jsx(Le,{size:16})," Your Order"]}),e.jsx("div",{className:"space-y-4 max-h-[300px] overflow-y-auto",children:Object.entries(I).length>0?Object.entries(I).map(l=>{const[D,F]=l,B=j.find(K=>K.id===D);return e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-5 h-5 bg-indigo-100 text-indigo-700 flex items-center justify-center rounded text-[10px] font-black",children:F}),e.jsx("span",{className:"font-bold text-slate-700",children:B.name})]}),e.jsxs("span",{className:"text-slate-400 font-medium",children:["$",B.price*F]})]},D)}):e.jsx("p",{className:"text-xs text-slate-400 font-medium italic py-8 text-center",children:"Your basket is empty. Select items to begin."})}),e.jsxs("div",{className:"pt-6 border-t border-slate-50 space-y-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"room-select",className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Deliver to Room #"}),e.jsxs("select",{id:"room-select",title:"Select room for delivery",className:"w-full px-4 py-3 bg-indigo-50/50 border border-indigo-100 rounded-2xl text-sm font-bold focus:outline-none",value:E,onChange:l=>m(l.target.value),children:[e.jsx("option",{value:"",disabled:!0,children:"Select room for delivery"}),h.filter(l=>l.status===L.OCCUPIED).map(l=>e.jsxs("option",{value:l.id,children:["Room ",l.number]},l.id))]})]}),e.jsxs("div",{className:"flex justify-between items-center px-2",children:[e.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Total Amount"}),e.jsxs("span",{className:"text-2xl font-black text-indigo-600",children:["$",V]})]}),e.jsxs("button",{onClick:le,disabled:Object.keys(I).length===0||!E||n,className:"w-full py-5 bg-indigo-600 text-white rounded-[24px] font-black text-lg shadow-xl shadow-indigo-900/20 hover:bg-indigo-700 transition-all active:scale-[0.98] disabled:opacity-50 flex items-center justify-center gap-3",children:[n?e.jsx(me,{className:"animate-spin"}):e.jsx(os,{size:20}),n?"Sending Request...":"Send Order to Kitchen"]})]})]})})]}):e.jsxs("div",{className:"max-w-md mx-auto py-24 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-emerald-100 text-emerald-600 rounded-[32px] flex items-center justify-center mx-auto mb-8 shadow-2xl shadow-emerald-900/10",children:e.jsx(Y,{size:48,className:"animate-in zoom-in duration-500"})}),e.jsx("h2",{className:"text-4xl font-black text-slate-900 mb-4",children:"Chef is on it!"}),e.jsx("p",{className:"text-slate-500 font-medium mb-12",children:"Your order has been sent to our signature kitchen. Average preparation time is 25-35 minutes."}),e.jsx("button",{onClick:()=>d("menu"),className:"w-full py-5 bg-slate-900 text-white rounded-[24px] font-black text-sm hover:bg-slate-800 transition-all",children:"Order More Items"})]})}),S=()=>{switch(k){case"search":return e.jsxs("div",{className:"max-w-2xl mx-auto py-20 px-6",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("span",{className:"px-4 py-1.5 bg-indigo-50 text-indigo-600 rounded-full text-[10px] font-black uppercase tracking-widest mb-4 inline-block",children:"Direct Booking Portal"}),e.jsx("h1",{className:"text-5xl font-black text-slate-900 tracking-tight mb-4",children:"Experience LuxeStay"}),e.jsx("p",{className:"text-slate-500 font-medium",children:"Book directly with us for the best rates and exclusive perks."})]}),e.jsxs("div",{className:"bg-white p-8 rounded-[40px] shadow-2xl border border-slate-100 grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"checkin-input",className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Check-in"}),e.jsx("input",{id:"checkin-input",type:"date",min:new Date().toISOString().split("T")[0],title:"Check-in date",className:"w-full px-4 py-3 bg-indigo-50/50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-indigo-500/20 font-bold text-slate-800",value:N.checkIn,onChange:l=>t({...N,checkIn:l.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"checkout-input",className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Check-out"}),e.jsx("input",{id:"checkout-input",type:"date",min:N.checkIn||new Date().toISOString().split("T")[0],title:"Check-out date",className:"w-full px-4 py-3 bg-indigo-50/50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-indigo-500/20 font-bold text-slate-800",value:N.checkOut,onChange:l=>t({...N,checkOut:l.target.value})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"guest-select",className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Guests"}),e.jsxs("select",{id:"guest-select","aria-label":"Select number of guests",className:"w-full px-4 py-3 bg-indigo-50/50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-indigo-500/20 font-bold text-slate-800 appearance-none",value:o,onChange:l=>a(parseInt(l.target.value)),children:[e.jsx("option",{value:"",disabled:!0,children:"Select number of guests"}),[1,2,3,4,5,6].map(l=>e.jsxs("option",{value:l,children:[l," Guests"]},l))]})]}),e.jsxs("button",{onClick:()=>{if(!N.checkIn||!N.checkOut){alert("Please select your stay dates.");return}r("rooms")},className:"md:col-span-3 py-5 bg-indigo-600 text-white rounded-[24px] font-black text-lg shadow-xl shadow-indigo-900/20 hover:bg-indigo-700 transition-all active:scale-[0.98] flex items-center justify-center gap-3",children:["Check Availability",e.jsx(rs,{size:20})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-20",children:[e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("div",{className:"w-12 h-12 bg-emerald-50 text-emerald-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(se,{size:24})}),e.jsx("h4",{className:"font-bold text-slate-900",children:"Best Price Guaranteed"}),e.jsx("p",{className:"text-xs text-slate-400 leading-relaxed font-medium",children:"Find it cheaper elsewhere? We'll match it and give you a free drink."})]}),e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("div",{className:"w-12 h-12 bg-indigo-50 text-indigo-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Pe,{size:24})}),e.jsx("h4",{className:"font-bold text-slate-900",children:"Premium Perks"}),e.jsx("p",{className:"text-xs text-slate-400 leading-relaxed font-medium",children:"Direct bookers receive free high-speed WiFi and late checkout options."})]}),e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("div",{className:"w-12 h-12 bg-rose-50 text-rose-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Y,{size:24})}),e.jsx("h4",{className:"font-bold text-slate-900",children:"Zero Commissions"}),e.jsx("p",{className:"text-xs text-slate-400 leading-relaxed font-medium",children:"No hidden service fees. What you see is exactly what you pay."})]})]})]});case"rooms":return e.jsxs("div",{className:"max-w-6xl mx-auto py-12 px-6",children:[e.jsxs("button",{onClick:()=>r("search"),className:"flex items-center gap-2 text-slate-400 hover:text-slate-900 font-bold text-sm mb-8 transition-colors",children:[e.jsx(ls,{size:16})," Change Dates"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:w.map(l=>{const D=_(l.id),F=l.capacity>=o&&D>0;return e.jsxs("div",{className:`bg-white rounded-[32px] overflow-hidden border border-slate-100 shadow-sm flex flex-col transition-all hover:shadow-2xl ${F?"":"opacity-50 grayscale"}`,children:[e.jsxs("div",{className:"h-56 relative",children:[e.jsx("img",{src:`https://picsum.photos/seed/${l.id}/600/400`,alt:`${l.name} room`,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute top-4 right-4 px-3 py-1 bg-white/90 backdrop-blur rounded-full text-[10px] font-black uppercase tracking-widest text-indigo-600",children:l.name}),F&&e.jsxs("div",{className:"absolute bottom-4 left-4 px-3 py-1 bg-emerald-500 text-white rounded-full text-[10px] font-black uppercase tracking-widest",children:[D," Rooms Left"]})]}),e.jsxs("div",{className:"p-8 flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-black text-slate-900",children:l.name}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-black text-indigo-600",children:["$",l.basePrice]}),e.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:"per night"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 mb-8",children:[e.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-slate-500",children:[e.jsx(ue,{size:12})," Up to ",l.capacity," guests"]}),e.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-slate-500",children:[e.jsx(Pe,{size:12})," Free WiFi"]}),e.jsxs("span",{className:"text-xs font-medium text-slate-500 flex items-center gap-1",children:[e.jsx(is,{size:14})," Smart TV"]})]}),e.jsx("div",{className:"mt-auto pt-6 border-t border-slate-50",children:F?e.jsx("button",{onClick:()=>{O(l),r("checkout")},className:"w-full py-4 bg-slate-900 text-white rounded-2xl font-black text-sm hover:bg-indigo-600 transition-all shadow-lg",children:"Select Room"}):e.jsx("div",{className:"w-full py-4 bg-slate-100 text-slate-400 rounded-2xl font-black text-sm text-center",children:l.capacity<o?"Too Small":"Sold Out"})})]})]},l.id)})})]});case"checkout":return e.jsx("div",{className:"max-w-4xl mx-auto py-12 px-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-2",children:"Guest Details"}),e.jsx("p",{className:"text-sm text-slate-400 font-medium",children:"Please provide your details to finalize the stay."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"name-input",className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Full Name"}),e.jsx("input",{id:"name-input",type:"text",placeholder:"Enter your full name",title:"Full name",className:"w-full px-4 py-3 bg-indigo-50/50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-indigo-500/20 font-bold",value:z.name,onChange:l=>M({...z,name:l.target.value})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"email-input",className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Email Address"}),e.jsx("input",{id:"email-input",type:"email",placeholder:"Enter your email address",title:"Email address",className:"w-full px-4 py-3 bg-indigo-50/50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-indigo-500/20 font-bold",value:z.email,onChange:l=>M({...z,email:l.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"phone-input",className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Phone"}),e.jsx("input",{id:"phone-input",type:"tel",placeholder:"Enter your phone number",title:"Phone number",className:"w-full px-4 py-3 bg-indigo-50/50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-indigo-500/20 font-bold",value:z.phone,onChange:l=>M({...z,phone:l.target.value})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"document-input",className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-1",children:"Document ID"}),e.jsx("input",{id:"document-input",type:"text",placeholder:"Enter your document ID",className:"w-full px-4 py-3 bg-indigo-50/50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-indigo-500/20 font-bold",value:z.documentId,onChange:l=>M({...z,documentId:l.target.value})})]})]})]}),e.jsxs("div",{className:"p-6 bg-emerald-50 rounded-3xl border border-emerald-100 flex items-start gap-4",children:[e.jsx("div",{className:"p-2 bg-emerald-100 text-emerald-600 rounded-xl",children:e.jsx(se,{size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-emerald-800",children:"Secure Payment Simulation"}),e.jsx("p",{className:"text-[11px] text-emerald-600 leading-relaxed font-medium",children:"In this demo, clicking 'Complete Booking' simulates a successful transaction. No real card info is required."})]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white p-8 rounded-[32px] border border-slate-200 shadow-sm space-y-6",children:[e.jsx("h3",{className:"font-black text-slate-900 uppercase tracking-widest text-xs",children:"Stay Summary"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:`https://picsum.photos/seed/${c==null?void 0:c.id}/100/100`,alt:`${c==null?void 0:c.name} room`,className:"w-16 h-16 rounded-2xl object-cover"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-900",children:c==null?void 0:c.name}),e.jsxs("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:[o," Guests • ",G," Nights"]})]})]}),e.jsxs("div",{className:"space-y-3 pt-6 border-t border-slate-50",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[e.jsx("span",{className:"text-slate-500",children:"Dates"}),e.jsxs("span",{className:"text-slate-900",children:[N.checkIn," → ",N.checkOut]})]}),e.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[e.jsxs("span",{className:"text-slate-500",children:["Rate (",G," nights)"]}),e.jsxs("span",{className:"text-slate-900",children:["$",((c==null?void 0:c.basePrice)||0)*G]})]}),e.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[e.jsx("span",{className:"text-slate-500",children:"Service Fee"}),e.jsx("span",{className:"text-emerald-600",children:"$0.00 (Direct Booking)"})]}),e.jsxs("div",{className:"flex justify-between pt-4 border-t border-slate-50",children:[e.jsx("span",{className:"text-lg font-black text-slate-900",children:"Total"}),e.jsxs("span",{className:"text-2xl font-black text-indigo-600",children:["$",((c==null?void 0:c.basePrice)||0)*G]})]})]}),e.jsxs("button",{onClick:ce,disabled:n||!z.name||!z.email,className:"w-full py-5 bg-indigo-600 text-white rounded-[24px] font-black text-lg shadow-xl shadow-indigo-900/20 hover:bg-indigo-700 transition-all active:scale-[0.98] disabled:opacity-50 flex items-center justify-center gap-3",children:[n?e.jsx(me,{className:"animate-spin"}):e.jsx(ae,{size:20,className:"text-amber-300"}),n?"Processing...":"Complete Booking"]}),e.jsx("button",{onClick:()=>r("rooms"),className:"w-full text-xs font-bold text-slate-400 hover:text-slate-600 transition-colors",children:"Go Back to Selection"})]})})]})});case"success":return e.jsxs("div",{className:"max-w-md mx-auto py-24 px-6 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-emerald-100 text-emerald-600 rounded-[32px] flex items-center justify-center mx-auto mb-8 shadow-2xl shadow-emerald-900/10",children:e.jsx(Y,{size:48,className:"animate-in zoom-in duration-500"})}),e.jsx("h1",{className:"text-4xl font-black text-slate-900 mb-4",children:"You're All Set!"}),e.jsxs("p",{className:"text-slate-500 font-medium mb-12",children:["Your reservation at LuxeStay has been confirmed. A confirmation email has been sent to ",e.jsx("strong",{children:z.email}),"."]}),e.jsxs("div",{className:"bg-white p-6 rounded-[24px] border border-slate-100 shadow-sm text-left space-y-3 mb-10",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-slate-400 font-bold uppercase tracking-widest",children:"Confirmation #"}),e.jsxs("span",{className:"text-slate-900 font-black",children:["LS-",Math.floor(1e5+Math.random()*9e5)]})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-slate-400 font-bold uppercase tracking-widest",children:"Guest"}),e.jsx("span",{className:"text-slate-900 font-black",children:z.name})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-slate-400 font-bold uppercase tracking-widest",children:"Arrival"}),e.jsx("span",{className:"text-slate-900 font-black",children:N.checkIn})]})]}),e.jsx("button",{onClick:f,className:"w-full py-5 bg-slate-900 text-white rounded-[24px] font-black text-lg hover:bg-slate-800 transition-all active:scale-[0.98]",children:"Return to Portal"})]})}};return e.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-y-auto",children:[e.jsxs("nav",{className:"h-20 bg-white border-b border-slate-100 flex items-center justify-between px-8 sticky top-0 z-50",children:[e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-600 rounded-xl text-white",children:e.jsx(be,{size:24})}),e.jsx("span",{className:"text-xl font-black text-slate-900 tracking-tight",children:"LuxeStay"})]}),e.jsxs("div",{className:"flex items-center bg-slate-100 p-1 rounded-2xl",children:[e.jsx("button",{onClick:()=>u("stay"),className:`px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${y==="stay"?"bg-white text-indigo-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:"Book a Stay"}),e.jsx("button",{onClick:()=>u("dining"),className:`px-6 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${y==="dining"?"bg-white text-indigo-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:"Digital Menu"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[y==="dining"&&Object.keys(I).length>0&&e.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-indigo-600 text-white rounded-2xl text-xs font-black animate-in fade-in slide-in-from-right-2",children:[e.jsx(Le,{size:16}),Object.values(I).reduce((l,D)=>l+D,0)," Items • $",V]}),e.jsxs("button",{onClick:f,className:"px-6 py-2 bg-slate-100 text-slate-600 rounded-full text-xs font-black uppercase tracking-widest hover:bg-slate-200 transition-colors flex items-center gap-2",children:[e.jsx(W,{size:14})," Exit Preview"]})]})]}),e.jsx("div",{className:"absolute top-0 left-0 w-full h-[600px] bg-indigo-600/5 -z-10"}),y==="stay"?S():pe(),e.jsx(zs,{menu:ke,categories:w,availableRoomsCount:$,onServiceRequest:g}),e.jsx("footer",{className:"py-20 px-6 border-t border-slate-200 mt-20",children:e.jsxs("div",{className:"max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-slate-900 rounded-xl text-white",children:e.jsx(be,{size:18})}),e.jsx("span",{className:"text-sm font-black text-slate-900 tracking-tight uppercase",children:"LuxeStay Hotels & Resorts"})]}),e.jsxs("div",{className:"flex gap-8 text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:[e.jsx("a",{href:"#",className:"hover:text-indigo-600 transition-colors",children:"Privacy"}),e.jsx("a",{href:"#",className:"hover:text-indigo-600 transition-colors",children:"Terms"}),e.jsx("a",{href:"#",className:"hover:text-indigo-600 transition-colors",children:"Contact"}),e.jsx("a",{href:"#",className:"hover:text-indigo-600 transition-colors",children:"Help"})]})]})})]})},Ys=Object.freeze(Object.defineProperty({__proto__:null,default:Ds},Symbol.toStringTag,{value:"Module"}));export{qs as A,Fs as B,Ls as D,Us as F,Rs as L,Ws as M,Ys as P,Ps as R,$s as S,_s as T,Ts as a,Gs as b,Bs as c,Ks as d,Hs as e,Vs as f,Qs as g};
